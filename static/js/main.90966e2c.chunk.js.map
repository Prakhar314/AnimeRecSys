{"version":3,"sources":["components/AnimeCard.js","components/UseWindowSize.js","components/AnimeGrid.js","components/LoadingShar.js","components/tags.js","components/Chip.js","components/ColoredSwitch.js","components/SearchSection.js","components/NavBar.js","components/BrowsePage.js","components/HomePage.js","store.js","components/AnimeInfo.js","components/CenterDiv.js","components/EditAnimeModal.js","components/AnimePage.js","components/AddAnimeModal.js","components/OverlayedImage.js","components/ImportAnimeModal.js","components/UserAnimeList.js","components/UserRecs.js","components/RecPage.js","components/ScrollToTop.js","App.js","reportWebVitals.js","index.js"],"names":["AnimeCard","id","title","image","Card","style","border","marginBottom","textDecoration","to","Img","variant","src","objectFit","width","borderRadius","Body","padding","paddingTop","textAlign","marginLeft","marginRight","Subtitle","fontSize","fontWeight","overflowWrap","overflow","WebkitLineClamp","WebkitBoxOrient","display","useWindowSize","useState","undefined","height","windowSize","setWindowSize","useEffect","handleResize","window","innerWidth","innerHeight","addEventListener","removeEventListener","AnimeGrid","anime","children","fluid","currentPage","setCurrentPage","itemsPerPage","contentSize","numPages","Math","ceil","length","itemStart","itemEnd","Container","Row","flexWrap","paddingLeft","paddingRight","minHeight","slice","map","a","Col","xs","md","lg","image_path","Pagination","className","Prev","onClick","x","disabled","Array","keys","i","Item","active","Next","LoadingShar","process","alt","popularTags","tags","Chip","text","tooltip","color","textSp","margin","lineHeight","backgroundColor","boxShadow","OverlayTrigger","placement","delay","show","hide","overlay","props","Tooltip","ColoredSwitch","value","onTap","selected","setSelected","newVal","s","cursor","SearchSection","onSuggest","loading","setLoading","expandTags","setExpandTags","incTags","setIncTags","excTags","setExcTags","setValue","valueRef","useRef","current","fetchSuggestions","debouncedLoadSuggestions","useCallback","debounce","query","axios","method","url","data","headers","then","res","Jumbotron","alignItems","justifyContent","InputGroup","size","maxWidth","FormControl","placeholder","aria-label","aria-describedby","onChange","event","target","Append","Button","Spinner","animation","marginTop","item","k","tagStore","list","filter","changeTags","NavBar","Navbar","collapseOnSelect","expand","bg","Brand","href","Toggle","aria-controls","Collapse","Nav","BrowsePage","setAnime","suggestions","setSuggestions","pingServer","get","timeout","catch","err","message","includes","setTimeout","InlineLink","open","HomePage","aboutVisible","setAboutVisible","position","top","right","state","aria-expanded","zIndex","left","transform","Fade","in","bottom","rel","initialState","userAnimeList","JSON","parse","localStorage","getItem","recsInSync","actionTypes","Object","freeze","IMPORT","Symbol","ADD_ANIME","REMOVE_ANIME","CLEAR","SYNC","store","createContext","Provider","StateProvider","useReducer","action","type","payload","Error","dispatch","setItem","stringify","getMPAA","mpaa","getGenre","genre","split","g","AnimeInfo","mpaa_rating","score","CenterDiv","EditAnimeModal","handleClose","editing","globalDispatch","useContext","Modal","onHide","Header","closeButton","Title","classNames","count","isHalf","newValue","Footer","AnimePage","defaultImages","useMemo","cover","banner","useParams","images","setImages","React","setWidth","showAnimeModal","setShowAnimeModal","userScore","handleWindowResize","val","variables","post","result","Media","bannerImage","coverImage","large","details","title_japanese","title_english","synopsis","recommendations","AddAnimeModal","globalState","currentAnime","suggestion","setState","prevstate","searchInGlobal","animeAlreadyRated","paddingBottom","background","borderTop","borderBottom","OverlayedImage","ImportAnimeModal","error","prevState","console","log","ListEditButtons","UserAnimeList","onAddAnime","showImportModal","setShowImportModal","key","showModal","arrowLeft","arrowRight","arrowDisabledClass","hideSingleArrow","onSelect","errorMessage","progress","queue","reducer","numWait","UserRecs","pingForProgress","tries","withCredentials","reason","response","ProgressBar","now","animated","minWidth","RecPage","addAnimeModal","setAddAnimeModal","withRouter","history","unlisten","listen","scrollTo","App","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.90966e2c.chunk.js","sourcesContent":["import React from 'react'\nimport { Card } from \"react-bootstrap\";\nimport { Link } from 'react-router-dom';\n\nfunction AnimeCard({ id, title, image }) {\n    // console.log(id)\n    return (\n        <Card style={{ border: \"none\" ,marginBottom:\"1rem\"}}>\n            <Link style={{ textDecoration: \"none\" }} to={`/anime/${id}`}>\n                <Card.Img variant=\"top\" src={image} style={{ objectFit: \"cover\", width: \"100%\", borderRadius: \"5px\" }} />\n            </Link>\n            <Card.Body style={{ padding: \"10px\",paddingTop: \"1rem\", textAlign: \"center\", marginLeft: \"-10%\", marginRight: \"-10%\" }}>\n                <Card.Subtitle style={{\n                    fontSize: \"1rem\", fontWeight: \"bold\", overflowWrap: \"normal\", overflow: \"hidden\",\n                    WebkitLineClamp: 2,\n                    WebkitBoxOrient: \"vertical\",\n                    display: \"-webkit-box\"\n                }}>{title}</Card.Subtitle>\n            </Card.Body>\n        </Card>\n    )\n}\n\nexport default AnimeCard\n","import { useState, useEffect } from 'react';\n\n// Hook\nfunction useWindowSize() {\n  // Initialize state with undefined width/height so server and client renders match\n  // Learn more here: https://joshwcomeau.com/react/the-perils-of-rehydration/\n  const [windowSize, setWindowSize] = useState({\n    width: undefined,\n    height: undefined,\n  });\n\n  useEffect(() => {\n    // Handler to call on window resize\n    function handleResize() {\n      // Set window width/height to state\n      setWindowSize({\n        width: window.innerWidth,\n        height: window.innerHeight,\n      });\n    }\n    \n    // Add event listener\n    window.addEventListener(\"resize\", handleResize);\n    \n    // Call handler right away so state gets updated with initial window size\n    handleResize();\n    \n    // Remove event listener on cleanup\n    return () => window.removeEventListener(\"resize\", handleResize);\n  }, []); // Empty array ensures that effect is only run on mount\n\n  return windowSize;\n}\n\nexport default useWindowSize;","import React, { useState, useEffect} from 'react'\nimport { Container, Row, Col, Pagination } from \"react-bootstrap\"\nimport AnimeCard from \"./AnimeCard\"\nimport useWindowSize from \"./UseWindowSize\"\n\nfunction AnimeGrid({ anime, children, fluid }) {\n    const { width } = useWindowSize()\n\n    const [currentPage, setCurrentPage] = useState(1)\n    // xs\n    let itemsPerPage = 6\n    let contentSize = \"38rem\"\n    if (width >= 992) {\n        // lg\n        itemsPerPage = 6\n        contentSize = \"21rem\"\n    }\n    else if (width >= 768) {\n        // md\n        itemsPerPage = 4\n        contentSize = \"20rem\"\n    }\n    else if(width<=480){\n        contentSize = \"33rem\"\n    }\n\n    useEffect(() => {\n        if(currentPage>numPages && numPages!==0){\n            setCurrentPage(numPages)\n        }\n    }, [itemsPerPage])\n\n    const numPages = Math.ceil(anime.length / itemsPerPage)\n    const itemStart = (currentPage - 1) * itemsPerPage\n    const itemEnd = itemStart + itemsPerPage\n\n    return (\n        <Container fluid={fluid || false}>\n            {children}\n            <Row style={{ flexWrap: \"wrap\", paddingLeft: \"10px\", paddingRight: \"10px\", minHeight: contentSize }}>\n                {anime.slice(itemStart, itemEnd).map((a) => (<Col key={a.id} xs={4} md={3} lg={2} style={{ paddingLeft: \"10px\", paddingRight: \"10px\" }}>\n                    <AnimeCard id={a.id} title={a.title} image={a.image_path} />\n                </Col>))}\n            </Row>\n            <div style={{ display: \"flex\" }}>\n                <Pagination className=\"mx-auto\">\n                    <Pagination.Prev onClick={() => setCurrentPage(x => x - 1)} disabled={currentPage === 1} />\n                    {[...Array(numPages).keys()].map((i) =>\n                        <Pagination.Item key={i + 1} active={currentPage === i + 1} onClick={() => setCurrentPage(i + 1)}>{i + 1}</Pagination.Item>)}\n                    <Pagination.Next onClick={() => setCurrentPage(x => x + 1)} disabled={currentPage === numPages} />\n                </Pagination>\n            </div>\n        </Container>\n    )\n}\n\nexport default AnimeGrid\n","import React from 'react'\n\nfunction LoadingShar({height}) {\n    // console.log(height)\n    return (\n        <div style={{\n            textAlign: \"center\",\n            height: `${height||50}vh`,\n            padding: \"calc(25% - 50px)\"\n        }}>\n            <img src={process.env.PUBLIC_URL+\"/sharingan.gif\"} alt=\"Loading\" style={{borderRadius:\"100%\"}}></img>\n        </div>\n    )\n}\n\nexport default LoadingShar\n","\nconst popularTags=['Adventure',\n 'Drama',\n 'School',\n 'Sci-Fi',\n 'Romance',\n 'Shounen',\n 'Fantasy',\n 'Comedy',\n 'Comedy',\n 'Action']\n\nconst tags =['Action',\n 'Adventure',\n 'Cars',\n 'Comedy',\n 'Dementia',\n 'Demons',\n 'Drama',\n 'Ecchi',\n 'Fantasy',\n 'Game',\n 'Harem',\n 'Historical',\n 'Horror',\n 'Josei',\n 'Kids',\n 'Magic',\n 'Martial Arts',\n 'Mecha',\n 'Military',\n 'Music',\n 'Mystery',\n 'Parody',\n 'Police',\n 'Psychological',\n 'Romance',\n 'Samurai',\n 'School',\n 'Sci-Fi',\n 'Seinen',\n 'Shoujo',\n 'Shoujo Ai',\n 'Shounen',\n 'Shounen Ai',\n 'Slice of Life',\n 'Space',\n 'Sports',\n 'Super Power',\n 'Supernatural',\n 'Thriller',\n 'Vampire']\nexport { tags,popularTags }","import { React } from 'react'\nimport { OverlayTrigger, Tooltip } from 'react-bootstrap'\n\n\nfunction Chip({ text, tooltip, color }) {\n    const renderTooltip = (props) => (\n        <Tooltip id=\"button-tooltip\" {...props}>\n            {tooltip}\n        </Tooltip>\n    );\n\n    const textSp = (<span style=\n        {{\n            display: \"inline-block\",\n            padding: \"0 14px\",\n            margin: \"2px\",\n            height: \"32px\",\n            lineHeight: \"30px\",\n            borderRadius: \"25px\",\n            backgroundColor: color || \"#F1F35B\",\n            boxShadow: \"0px 2px 10px -10px black\",\n            color: \"rgba(20,20,20,0.25)\",\n            fontWeight: \"700\"\n        }}>\n        {text}\n    </span>)\n\n    return (\n        tooltip == null ?\n            <span>{textSp}</span>\n            :\n            <OverlayTrigger\n                placement=\"right\"\n                delay={{ show: 150, hide: 150 }}\n                overlay={renderTooltip}\n            >\n                {textSp}\n            </OverlayTrigger>\n    )\n}\n\nexport default Chip\n","import { React, useState } from 'react'\nimport Chip from './Chip'\n\nfunction getColor(value) {\n    if (value === 0 || value === 2) {\n        return \"rgb(255 255 255 / 68%)\"\n    }\n    if (value === 1) {\n        return \"springgreen\"\n    }\n    if (value === 3) {\n        return \"rgb(255, 71, 71)\"\n    }\n}\n\nfunction ColoredSwitch({ text, onTap }) {\n    const [selected, setSelected] = useState(0)\n    function switchValue() {\n        let newVal = selected+1\n        if (selected < 3) {\n            setSelected(s => s + 1)\n        }\n        else {\n            setSelected(0)\n            newVal=0\n        }\n        onTap(newVal)\n    }\n    return (\n        <span onClick={switchValue} style={{cursor:\"pointer\"}}>\n            <Chip color={getColor(selected)} text={text}/>\n        </span>\n    )\n}\n\nexport default ColoredSwitch\n","import { React, useState, useCallback, useRef, useEffect } from 'react'\nimport debounce from 'lodash.debounce'\nimport axios from 'axios'\nimport { Jumbotron, Container, Spinner, InputGroup, FormControl, Button } from 'react-bootstrap';\nimport { tags, popularTags } from './tags'\nimport ColoredSwitch from './ColoredSwitch';\n\n\nexport default function SearchSection({ onSuggest }) {\n    const [loading, setLoading] = useState(false)\n    const [expandTags, setExpandTags] = useState(false)\n    const [incTags, setIncTags] = useState([])\n    const [excTags, setExcTags] = useState([])\n    const [value, setValue] = useState('')\n    const valueRef = useRef(value)\n    useEffect(() => {\n        valueRef.current = value\n    }, [value])\n    const loadSuggestions = (query) => {\n        // console.log(\"fetching \" + query)\n        // console.log(incTags)\n        // console.log(excTags)\n        setLoading(true)\n        axios({\n            method: 'post',\n            url: `https://animerecsys.glitch.me/search/${query}/18`,\n            data: {\n                \"incgenre\": incTags,\n                \"excgenre\": excTags\n            },\n            headers: {\n                \"Content-Type\": \"application/json\"\n            }\n        }).then((res) => {\n            // console.log(\"fetching \" + query + \" \" + valueRef.current)\n            if (query === valueRef.current) {\n                setLoading(false)\n                onSuggest(res.data)\n                // console.log(res.data)\n            } else { // Ignore suggestions if input value changed\n                setLoading(true)\n            }\n        })\n    }\n\n    const onChange = (event) => {\n        setValue(event.target.value)\n        fetchSuggestions(event.target.value)\n    };\n\n    const clearInput = () => {\n        setValue('')\n    }\n\n    const changeTags = (i, k) => {\n        // console.log(incTags)\n        const tagStore = (expandTags ? tags : popularTags)\n        if (k === 0) {\n            const list = excTags.filter((item) => item !== tagStore[i])\n            setExcTags(list)\n        }\n        if (k === 2) {\n            const list = incTags.filter((item) => item !== tagStore[i])\n            setIncTags(list)\n        }\n        if (k === 1) {\n            setIncTags([...incTags, tagStore[i]])\n        }\n        if (k === 3) {\n            setExcTags([...excTags, tagStore[i]])\n        }\n    }\n\n    const fetchSuggestions = (value) => {\n        debouncedLoadSuggestions(value);\n    };\n\n    const debouncedLoadSuggestions = useCallback(debounce(loadSuggestions, 1000), [excTags, incTags]);\n\n    return (\n\n        <Jumbotron className=\"gradient-section\" style={{ minHeight: \"40vh\" }}>\n            <Container style={{ display: \"flex\", alignItems: \"center\", justifyContent: \"center\", }}>\n                <InputGroup size=\"lg\" style={{ maxWidth: \"400px\" }}>\n                    <FormControl\n                        placeholder=\"Search...\"\n                        aria-label=\"Search...\"\n                        aria-describedby=\"basic-addon2\"\n                        onChange={onChange}\n                        value={value}\n                    />\n                    <InputGroup.Append>\n                        <Button variant=\"outline-secondary\" onClick={() => clearInput()}> <i className=\"fa fa-close\"></i> </Button>\n                    </InputGroup.Append>\n                </InputGroup>\n                {loading && <Spinner style={{ marginLeft: \"1rem\" }} animation=\"grow\" />}\n            </Container>\n            <Container style={{ width: \"80%\", display: \"block\", textAlign: \"center\" }}>\n                <h5 style={{ fontWeight: 700, color: \"grey\", marginTop: \"1rem\" }}>Tags</h5>\n                {(expandTags ? tags : popularTags).map((item, i) => <ColoredSwitch text={item} key={i} onTap={(k) => changeTags(i, k)} />)}\n                <Button style={{ display: \"block\", marginTop: \"1rem\", marginLeft: \"auto\", marginRight: \"auto\" }} variant=\"secondary\" size=\"sm\" onClick={() => setExpandTags(x => !x)}>{expandTags ? \"Less\" : \"More\"}</Button>\n            </Container>\n\n        </Jumbotron>\n    )\n}\n\n","import React from 'react'\nimport { Navbar,Nav} from 'react-bootstrap'\nimport {Link} from 'react-router-dom'\nfunction NavBar() {\n    return (\n        <Navbar collapseOnSelect expand=\"md\" bg=\"dark\" variant=\"dark\">\n            <Navbar.Brand href=\"#/\">AnimeRecSys</Navbar.Brand>\n            <Navbar.Toggle aria-controls=\"responsive-navbar-nav\" />\n            <Navbar.Collapse id=\"responsive-navbar-nav\">\n                <Nav className=\"ml-auto\">\n                        <Link className=\"nav-link\" to=\"/browse\" >\n                        Browse\n                        </Link>\n                        <Link className=\"nav-link\" to=\"/recommend\" >\n                        Recommendations\n                        </Link>\n                </Nav>\n            </Navbar.Collapse>\n        </Navbar>\n    )\n}\n\nexport default NavBar\n","import { React, useEffect, useState, useCallback } from 'react'\nimport { Container } from 'react-bootstrap'\nimport axios from 'axios'\nimport AnimeGrid from './AnimeGrid';\nimport LoadingShar from './LoadingShar';\nimport SearchSection from './SearchSection';\nimport NavBar from './NavBar';\n\nfunction BrowsePage() {\n    const [anime, setAnime] = useState([])\n    const [suggestions, setSuggestions] = useState([])\n    const pingServer = useCallback(\n        () => {\n            axios.get('https://animerecsys.glitch.me/', { timeout: 5000 }).then((res) => {\n                // console.log(res.data)\n                setAnime(res.data)\n            }).catch(err => {\n                // console.log(err.code)\n                if (err.message.includes('timeout')) {\n                    setTimeout(pingServer, 1000)\n                }\n            })\n        },\n        [],\n    )\n\n    useEffect(() => {\n        pingServer()\n    }, [pingServer])\n    return (\n        <>\n            <NavBar />\n            {anime.length === 0 ? <LoadingShar height=\"calc( 100vh - 56px)\" /> :\n                <>\n                    <SearchSection onSuggest={(res) => { setSuggestions(res) }} />\n                    <Container>\n                        <h3 style={{ marginBottom: \"2rem\" }}>{suggestions.length === 0 ? \"Popular Shows\" : \"Search Results\"}</h3>\n                    </Container></>}\n            {suggestions.length === 0 && anime.length !== 0 && <AnimeGrid anime={anime} />}\n            {suggestions.length !== 0 && <AnimeGrid anime={suggestions} />}\n        </>\n    )\n}\n\nexport default BrowsePage\n","import React, { useState } from 'react'\nimport { Link } from 'react-router-dom'\nimport { Button, Fade, Collapse } from 'react-bootstrap'\n\nfunction HomePage() {\n    const [aboutVisible, setAboutVisible] = useState(false)\n    return (\n        <div position=\"relative\">\n            <div style={{ position: \"absolute\", top: \"1rem\", right: \"1rem\" }}>\n                <Button\n                    onClick={() => setAboutVisible(state => !state)}\n                    aria-controls=\"fade-nav-buttons fade-description fade-git-link fade-subtitle\"\n                    aria-expanded={aboutVisible}\n                    variant=\"outline-light\"\n                    style={{ borderRadius: \"50%\" }}\n                >\n                    <i className={aboutVisible ? \"fa fa-home\" : \"fa fa-info-circle\"}></i>\n                </Button>\n            </div>\n\n            <img alt=\"AOJ\" src={process.env.PUBLIC_URL+\"/AttackOnJojo.gif\"} style={{ position: \"absolute\", zIndex: \"-1\", width: \"100vw\", height: \"100vh\", objectFit: \"cover\" }} />\n\n            <div className=\"brand\" style={{ color: \"lightgray\", margin: \"auto\", position: \"absolute\", top: \"28%\", left: \"50%\", transform: \"translate(-50%, 0%)\", textAlign: \"center\" }}>\n                <h1 style={{ fontSize: \"min(13vw,100px)\" }}>AnimeRecSys</h1>\n                <Fade in={!aboutVisible}>\n                    <p id=\"fade-subtitle\">There couldn't be a better name...</p>\n                </Fade>\n                <Collapse in={aboutVisible}>\n                    <div id=\"fade-description\">\n                        <p>This project uses a <InlineLink href={\"https://arxiv.org/abs/1708.05031\"} text=\"collaborative filtering\" /> based recommender system, built using Tensorflow 2.0, on  <InlineLink href={\"https://www.kaggle.com/qvinhdo/myanimelist\"} text=\"this Kaggle\" /> dataset. The webapp is built using React, Express and Bull.</p>\n                    </div>\n                </Collapse>\n            </div>\n\n            <div style={{ position: \"absolute\", bottom: \"2rem\", left: \"50%\", transform: \"translate(-50%,0)\", display: \"inline-block\", textAlign: \"center\" }}>\n                <Collapse in={aboutVisible}>\n                    <div id=\"fade-git-link\">\n                        <a rel=\"noreferrer\" target=\"_blank\" className=\"btn btn-outline-light\" href=\"https://github.com/Prakhar314/AnimeRecSys\" style={{ margin: \"0.5rem\" }}><i className=\"fa fa-github\" /> View on Github</a>\n                    </div>\n                </Collapse>\n                <Collapse in={!aboutVisible}>\n                    <div id=\"fade-nav-buttons\">\n                        <Link className=\"btn btn-outline-light\" to=\"/browse\" style={{ margin: \"0.5rem\" }}>Browse Animes</Link>\n                        <Link className=\"btn btn-outline-light\" to=\"/recommend\" style={{ margin: \"0.5rem\" }}>Get Recommendations</Link>\n                    </div>\n                </Collapse>\n            </div>\n        </div>\n    )\n}\n\nfunction InlineLink({ href, text }) {\n    return (\n        <span className=\"inline-link\" onClick={() => window.open(href)}>\n            {text}\n        </span>\n    )\n}\n\n\nexport default HomePage\n","import React, { createContext, useReducer, useEffect } from 'react'\n\n\nconst initialState = {\n    userAnimeList: JSON.parse(localStorage.getItem('userAnimeList') || '[]'),\n    recsInSync: JSON.parse(localStorage.getItem('recsInSync') || 'false')\n};\n\nconst actionTypes = Object.freeze({\n    IMPORT: Symbol('IMPORT'),\n    ADD_ANIME: Symbol('ADD_ANIME'),\n    REMOVE_ANIME: Symbol('REMOVE_ANIME'),\n    CLEAR: Symbol('CLEAR'),\n    SYNC: Symbol('SYNC')\n})\n\nconst store = createContext(initialState);\nconst { Provider } = store;\n\nconst StateProvider = ({ children }) => {\n\n    const [state, dispatch] = useReducer((state, action) => {\n        switch (action.type) {\n            case actionTypes.ADD_ANIME:\n                return {\n                    recsInSync: false,\n                    userAnimeList: [action.payload, ...state.userAnimeList.filter((item) => item.id !== action.payload.id)]\n                }\n            case actionTypes.IMPORT:\n                return {\n                    recsInSync: false,\n                    userAnimeList: action.payload\n                }\n            case actionTypes.REMOVE_ANIME:\n                return {\n                    recsInSync: false,\n                    userAnimeList: [...state.userAnimeList.filter((item) => item.id !== action.payload.id)]\n                }\n            case actionTypes.CLEAR:\n                return {\n                    recsInSync: false,\n                    userAnimeList: []\n                }\n            case actionTypes.SYNC:\n                return {\n                    ...state,\n                    recsInSync: true\n                }\n            default:\n                throw new Error();\n        };\n    }, initialState);\n\n    useEffect(() => {\n        // console.log('setting a ' + JSON.stringify(state.userAnimeList))\n        localStorage.setItem('userAnimeList', JSON.stringify(state.userAnimeList))\n    }, [state.userAnimeList])\n\n    useEffect(() => {\n        // console.log('setting b ' + JSON.stringify(state.recsInSync))\n        localStorage.setItem('recsInSync', JSON.stringify(state.recsInSync))\n    }, [state.recsInSync])\n\n    return <Provider value={{ state, dispatch }}>{children}</Provider>;\n};\n\nexport { store, StateProvider, actionTypes }","import React from 'react'\nimport Chip from \"./Chip\"\n\nfunction getMPAA(mpaa) {\n    switch (mpaa) {\n        case 'R - 17+ (violence & profanity)':\n            return { text: 'R-17+', tooltip: \"Violence & Profanity\", color: \"#fc1303\" }\n        case 'PG-13 - Teens 13 or older':\n            return { text: 'PG-13', tooltip: \"Teens 13 or Older\", color: \"#e7f03c\" }\n        case 'PG - Children':\n            return { text: 'PG', tooltip: \"Children\", color: \"#31d65d\" }\n        case 'R+ - Mild Nudity':\n            return { text: 'R+', tooltip: \"Mild Nudity\", color: \"#fc1303\" }\n        case 'G - All Ages':\n            return { text: 'G', tooltip: \"All Ages\", color: \"#31d65d\" }\n        default:\n            return { text: mpaa }\n    }\n}\n\nfunction getGenre(genre) {\n    return (<>{genre.split(\",\").map((g,i) => <Chip key={i} text={g} color=\"#e1e3e3\" />)}</>)\n}\n\nfunction AnimeInfo({ mpaa_rating, score, genre }) {\n    return (\n        <>\n            <p style={{marginBottom:\"0.2rem\"}}><Chip {...getMPAA(mpaa_rating)} /> <Chip text={score} color=\"#46ebda\" /></p>\n            <p>{getGenre(genre)}</p>\n        </>\n    )\n}\n\nexport default AnimeInfo\n","import React from 'react'\n\nfunction CenterDiv({children}) {\n    return (\n        <div style={{ display: \"flex\", justifyContent: \"center\", height:\"100%\", alignItems:\"center\" }}>\n            {children}\n        </div>\n    )\n}\n\nexport default CenterDiv\n","import React, { useContext } from 'react'\n\nimport { Modal, Button } from 'react-bootstrap'\nimport ReactStars from 'react-rating-stars-component'\n\nimport { store, actionTypes } from '../store'\nimport CenterDiv from './CenterDiv'\n\nfunction EditAnimeModal({ anime, handleClose, show, editing }) {\n\n    const {dispatch: globalDispatch } = useContext(store)\n\n    const updateAnime = () => {\n        handleClose()\n        globalDispatch({ type: actionTypes.ADD_ANIME, payload: anime })\n    }\n\n    const deleteAnime = () => {\n        handleClose()\n        globalDispatch({ type: actionTypes.REMOVE_ANIME, payload: anime })\n    }\n\n    return (\n        <Modal show={show} onHide={handleClose} id={\"edit-anime-modal\"}>\n            <Modal.Header closeButton>\n                <Modal.Title>{editing!==false?'Edit Rating':'Add Rating'}</Modal.Title>\n            </Modal.Header>\n            <Modal.Body style={{ textAlign: \"center\" }}>\n                {!anime.image_path && <CenterDiv><h3 style={{ fontWeight: 200 }}>Nothing Selected</h3></CenterDiv>}\n                {anime.image_path &&\n                    <>\n                        <img src={anime.image_path} alt={anime.title} style={{ width: \"80%\" }} />\n                        <h3 style={{ marginTop: \"1rem\" }}>{anime.title}</h3>\n                        <ReactStars\n                            classNames=\"mx-auto\"\n                            size={35}\n                            count={5}\n                            isHalf={true}\n                            onChange={newValue => {\n                                anime.score = newValue * 2\n                            }\n                            } />\n                    </>\n                }\n                {/* {JSON.stringify(anime)} */}\n            </Modal.Body>\n            <Modal.Footer>\n                <Button variant=\"secondary\" size=\"sm\" onClick={handleClose}>\n                    Close\n                </Button>\n                {editing!==false &&\n                <Button variant=\"danger\" size=\"sm\" onClick={deleteAnime}>\n                    Remove\n                </Button>}\n                <Button variant=\"primary\" size=\"sm\" onClick={updateAnime}>\n                    Save Changes\n                </Button>\n            </Modal.Footer>\n        </Modal>\n    )\n}\n\nexport default EditAnimeModal\n","import {\n    useParams\n} from \"react-router-dom\";\nimport React, { useState, useEffect, useMemo , useContext} from 'react'\nimport axios from 'axios'\nimport { Col, Row, Container, Button } from 'react-bootstrap'\n\nimport NavBar from \"./NavBar\"\nimport { store } from '../store'\nimport AnimeGrid from \"./AnimeGrid\"\nimport AnimeInfo from \"./AnimeInfo\"\nimport LoadingShar from \"./LoadingShar\"\nimport EditAnimeModal from \"./EditAnimeModal\"\n\nexport default function AnimePage() {\n    // We can use the `useParams` hook here to access\n    // the dynamic pieces of the URL.\n    const defaultImages = useMemo(()=>{return{ cover: process.env.PUBLIC_URL+'/coverPlaceholder.png', banner: process.env.PUBLIC_URL+'/bannerPlaceholder.png' }},[])\n    const { id } = useParams();\n    const [anime, setAnime] = useState({})\n    const [images, setImages] = useState(defaultImages)\n    const [width, setWidth] = React.useState(window.innerWidth)\n    const [showAnimeModal, setShowAnimeModal] = useState(false)\n    const {state:globalState } = useContext(store)\n\n    const userScore = (globalState.userAnimeList.filter((x)=>x.id===id)[0]||{score:null}).score\n\n    React.useEffect(() => {\n        const handleWindowResize = () => setWidth(window.innerWidth)\n        window.addEventListener(\"resize\", handleWindowResize)\n        return () => window.removeEventListener(\"resize\", handleWindowResize)\n    }, [])\n\n    useEffect(() => {\n        setImages(defaultImages)\n        axios.get(`https://animerecsys.glitch.me/anime/${id}/18`).then((val) => {\n            // console.log(val.data.details);\n            setAnime(val.data)\n        })\n        // This is the GraphQL query\n        const query = `\n            query ($id: Int) {\n                Media(idMal: $id, type: ANIME) {\n                    coverImage {\n                    large\n                    }\n                    bannerImage\n                }\n            }\n            `;\n\n        // These variables are optional, leave empty for now\n        const variables = { \"id\": id };\n        axios.post('https://graphql.anilist.co', {\n            query,\n            variables\n        }).then((result) => {\n            setImages({\n                banner: result.data.data.Media.bannerImage || defaultImages.banner,\n                cover: result.data.data.Media.coverImage.large || defaultImages.cover\n            });\n        });\n    }, [id,defaultImages])\n    return (\n        <>\n            <NavBar />\n            {anime.details &&\n                <div>\n                    <img src={images.banner} alt={anime.details.title} style={{ height: \"min(500px,60vw)\", width: \"100%\", objectFit: \"cover\" }}></img>\n                    <Container>\n                        <Row>\n                            <Col xs={12} md={4} style={{ paddingRight: width > 768 ? \"0px\" : \"15px\", textAlign: width > 768 ? \"left\" : \"center\" }}>\n                                <div style={{ display: \"flex\" }}>\n                                    <img src={images.cover} alt={anime.details.title} style={{ marginTop: \"-120px\", boxShadow: \"0px 0px 68px -19px black\", marginLeft: width > 768 ? \"unset\" : \"auto\", marginRight: width > 768 ? \"unset\" : \"auto\" }}></img>\n                                </div>\n                                <h5 style={{ color: \"rgb(108, 117, 125)\", fontWeight: \"300\", marginTop: \"2rem\" }}>{anime.details.title_japanese}, {anime.details.title_english}</h5>\n                                <AnimeInfo {...anime.details} />\n                            </Col>\n                            <Col xs={12} md={8} style={{ marginLeft: width > 768 ? \"15px\" : \"0px\", marginRight: \"-15px\" }}>\n                                <h2 style={{ marginTop: \"2rem\", marginBottom: \"1rem\", textAlign: width > 768 ? \"left\" : \"center\" }}>{anime.details.title}</h2>\n                                <p>{anime.details.synopsis}</p>\n                                <div className=\"text-center text-sm-left\">\n                                    <Button variant=\"outline-dark m-1\" onClick={()=>setShowAnimeModal(true)}>\n                                        {userScore!=null?`Rated ${userScore}`:'Rate this Anime'}\n                                    </Button>\n                                    <a rel=\"noreferrer\" target=\"_blank\" href={`https://www.myanimelist.net/anime/${id}`} className=\"btn btn-outline-dark m-1\">Open in MyAnimeList</a>\n                                </div>\n                            </Col>\n                        </Row>\n                    </Container>\n                    <AnimeGrid anime={anime.recommendations}>\n                        <h3 style={{ marginTop: \"2rem\", marginBottom: \"1rem\", textAlign: width > 768 ? \"left\" : \"center\" }}>Recommendations</h3>\n                    </AnimeGrid>\n                    <EditAnimeModal anime={{id:anime.details.id,title:anime.details.title,image_path:images.cover}} handleClose={()=>setShowAnimeModal(false)} show={showAnimeModal} editing={false}/>\n                </div>}\n            {anime.details == null && <LoadingShar />}\n        </>\n    );\n}","import React, { useState, useCallback, useRef, useEffect, useContext } from 'react'\n\nimport { Modal, Button, Row, Col, InputGroup, FormControl, Spinner } from 'react-bootstrap'\nimport debounce from 'lodash.debounce'\nimport axios from 'axios'\nimport ReactStars from \"react-rating-stars-component\"\n\nimport { store, actionTypes } from '../store'\nimport CenterDiv from './CenterDiv'\n\nfunction AddAnimeModal({ show, handleClose }) {\n\n    const { state: globalState, dispatch: globalDispatch } = useContext(store)\n\n    function handleAdd(item) {\n        globalDispatch({ type: actionTypes.ADD_ANIME, payload: { ...item } })\n    }\n\n    const [state, setState] = useState({\n        loading: false,\n        value: '',\n        currentAnime: {},\n        suggestion: []\n    })\n    const valueRef = useRef(state.value)\n\n    useEffect(() => {\n        valueRef.current = state.value\n    }, [state.value])\n\n    const loadSuggestions = (query) => {\n        // console.log(\"fetching \" + query)\n        setState(prevstate => {\n            return { ...prevstate, loading: true }\n        })\n        axios({\n            method: 'post',\n            url: `https://animerecsys.glitch.me/search/${query}/5`,\n            headers: {\n                \"Content-Type\": \"application/json\"\n            }\n        }).then((res) => {\n            // console.log(\"fetching \" + query + \" \" + valueRef.current)\n            if (query === valueRef.current) {\n                setState(prevstate => {\n                    return { ...prevstate, loading: false, suggestion: res.data }\n                })\n                // console.log(res.data)\n            } else { // Ignore suggestions if input value changed\n                setState(prevstate => {\n                    return { ...prevstate, loading: true }\n                })\n            }\n        })\n    }\n\n    const onChange = (event) => {\n        setState(prevstate => {\n            return { ...prevstate, value: event.target.value, currentAnime: {} }\n        })\n        fetchSuggestions(event.target.value)\n    };\n\n    const fetchSuggestions = (value) => {\n        debouncedLoadSuggestions(value)\n    };\n\n    const setCurrentAnime = (anime) => {\n        setState(prevstate => {\n            return { ...prevstate, currentAnime: anime }\n        })\n    }\n\n    const clearInput = () => {\n        setState(prevstate => {\n            return { ...prevstate, value: '', loading: false }\n        })\n    }\n\n    const debouncedLoadSuggestions = useCallback(debounce(loadSuggestions, 1000), [])\n\n    const searchInGlobal = globalState.userAnimeList.filter((i) => i.id === state.currentAnime.id)\n    const animeAlreadyRated = searchInGlobal.length !== 0 && (state.currentAnime.score == null || state.currentAnime.score === searchInGlobal[0].score)\n\n    return (\n        <Modal show={show} onHide={handleClose}>\n            <Modal.Header closeButton>\n                <Modal.Title>Rate Anime</Modal.Title>\n            </Modal.Header>\n            <Modal.Body style={{ paddingLeft: \"1rem\", paddingRight: \"1rem\", paddingBottom: \"0px\", paddingTop: \"0px\" }}>\n                <Row style={{ minHeight: \"300px\" }}>\n                    <Col style={{ background: \"linear-gradient(180deg, rgba(230,250,255,1) 0%, rgba(187,226,255,1) 100%)\", paddingTop: \"1rem\" }}>\n                        <InputGroup size=\"sm\">\n                            <FormControl\n                                placeholder=\"Search\"\n                                aria-label=\"Search...\"\n                                aria-describedby=\"basic-addon2\"\n                                onChange={onChange}\n                                value={state.value}\n                            />\n                            <InputGroup.Append>\n                                <Button variant=\"outline-secondary\" onClick={() => clearInput()}> <i className=\"fa fa-close\"></i> </Button>\n                            </InputGroup.Append>\n                        </InputGroup>\n                        {state.loading &&\n                            <div style={{ display: \"flex\", height: \"80%\" }}>\n                                <Spinner animation=\"grow\" style={{ margin: \"auto\" }} />\n                            </div>}\n                        <div style={{ paddingTop: \"1rem\", paddingBottom: \"1rem\" }}>\n                            {\n                                !state.loading && state.suggestion.length !== 0 &&\n                                state.suggestion.map((a, i) =>\n                                    <h6 key={a.id}\n                                        style={{\n                                            padding: \"10px\",\n                                            borderTop: i === 0 ? \"1px solid gray\" : \"none\",\n                                            borderBottom: \"1px solid gray\",\n                                            marginBottom: \"5px\",\n                                            cursor: \"pointer\"\n                                        }}\n                                        onClick={() => setCurrentAnime(a)}\n                                    >\n                                        {a.title}\n                                    </h6>)\n                            }\n                            {\n                                !state.loading && state.suggestion.length === 0 && <CenterDiv><h6 style={{ fontWeight: 200 }}>Suggestions will show up here</h6></CenterDiv>\n                            }\n                        </div>\n                    </Col>\n                    <Col style={{ textAlign: \"center\" }}>\n                        {!state.currentAnime.image_path && <CenterDiv><h3 style={{ fontWeight: 200 }}>Nothing Selected</h3></CenterDiv>}\n                        {state.currentAnime.image_path &&\n                            <>\n                                <img src={state.currentAnime.image_path} alt={state.currentAnime.title} style={{ width: \"80%\" }} />\n                                <h3 style={{ marginTop: \"1rem\" }}>{state.currentAnime.title}</h3>\n                                <ReactStars\n                                    classNames=\"mx-auto\"\n                                    size={35}\n                                    count={5}\n                                    isHalf={true}\n                                    onChange={newValue => {\n                                        state.currentAnime.score = newValue * 2\n                                        setState(prevstate => { return { ...prevstate } })\n                                    }\n                                    } />\n                            </>\n                        }\n                    </Col>\n                </Row>\n            </Modal.Body>\n            <Modal.Footer>\n                <Button variant=\"secondary\" size=\"sm\" onClick={handleClose}>\n                    Close\n                </Button>\n                <Button variant=\"primary\" size=\"sm\" onClick={() => handleAdd(state.currentAnime)} disabled={state.currentAnime.score == null || animeAlreadyRated}>\n                    {animeAlreadyRated ? `Rated ${searchInGlobal[0].score}` : 'Save Rating'}\n                </Button>\n            </Modal.Footer>\n        </Modal>\n    )\n}\n\nexport default AddAnimeModal\n","import React from 'react'\nimport { Card } from 'react-bootstrap'\nfunction OverlayedImage({ id, title, image, score }) {\n    return (\n        <Card style={{ border: \"none\", margin: \"0.5rem\", backgroundColor: \"transparent\", cursor:\"pointer\" }}>\n\n            <Card.Img variant=\"top\" src={image} style={{ objectFit: \"cover\", height: \"30vh\", borderRadius: \"10px\", display: \"block\" }} />\n            <div style={{\n                backgroundColor: \"#000000a6\",\n                color: \"white\",\n                fontWeight: 700,\n                fontSize: \"smaller\",\n                position: \"absolute\", top: 0, left: 0, right: 0, bottom: 0,\n                borderRadius: \"10px\",\n                textAlign: \"center\",\n                display: \"flex\",\n                justifyContent: \"center\",\n                alignItems: \"flex-end\",\n                paddingBottom: \"1rem\"\n            }}>\n                <h1 style={{\n                    position: \"absolute\", top: \"50%\",\n                    fontWeight: 800,\n                    transform: \"translate( 0 , -50% )\"\n                }}>\n                    {score || 10}\n                </h1>\n                {title.slice(0,50)}\n            </div>\n        </Card>\n    )\n}\n\nexport default OverlayedImage\n","import React, { useState, useContext } from 'react'\nimport { InputGroup, Modal, Button, FormControl, Spinner } from 'react-bootstrap'\nimport axios from 'axios'\n\nimport { store, actionTypes } from '../store'\n\nfunction ImportAnimeModal({ show, handleClose }) {\n\n    const { dispatch: globalDispatch } = useContext(store)\n    const [state, setState] = useState({\n        loading: false,\n        error: '',\n        value: ''\n    })\n\n    const onChange = (event) => {\n        setState(prevState => ({\n            ...prevState, value: event.target.value\n        }))\n    }\n\n    const importAnime = () => {\n        setState(prevState => ({\n            ...prevState, loading: true, error: ''\n        }))\n        axios.get(`https://animerecsys.glitch.me/import/${state.value}`).then((res) => {\n            // console.log(res.data)\n            setState(prevState => ({\n                ...prevState, loading: false, error: ''\n            }))\n            globalDispatch({ type: actionTypes.IMPORT, payload: res.data })\n            handleClose()\n        }).catch((err) => {\n            console.log(err)\n            setState(prevState => ({\n                ...prevState, loading: false, error: 'Couldn\\'t fetch MAL'\n            }))\n        })\n    }\n\n    return (\n        <Modal show={show} onHide={handleClose} id={\"edit-anime-modal\"}>\n            <Modal.Header closeButton>\n                <Modal.Title>Import Anime</Modal.Title>\n            </Modal.Header>\n            <Modal.Body style={{ textAlign: \"center\" }}>\n                <InputGroup>\n                    <FormControl\n                        placeholder=\"Enter your MAL id\"\n                        aria-label=\"MAL ID\"\n                        aria-describedby=\"basic-addon2\"\n                        onChange={onChange}\n                        value={state.value}\n                    />\n                    <InputGroup.Append>\n                        <Button variant=\"outline-secondary\" onClick={importAnime}> Import </Button>\n                    </InputGroup.Append>\n                </InputGroup>\n                {state.loading && <Spinner variant=\"secondary\" animation=\"grow\" className=\"m-1\"/>}\n                <p style={{color:\"red\"}}>{state.error}</p>\n            </Modal.Body>\n        </Modal>\n    )\n}\n\nexport default ImportAnimeModal\n","import React, { useState, useContext } from 'react'\n\nimport ScrollMenu from 'react-horizontal-scrolling-menu'\nimport { Container, Button } from 'react-bootstrap'\n\nimport { store, actionTypes } from '../store'\nimport OverlayedImage from './OverlayedImage'\nimport EditAnimeModal from './EditAnimeModal'\nimport ImportAnimeModal from './ImportAnimeModal'\nimport useWindowSize from './UseWindowSize'\n\nfunction ListEditButtons({ text, style, onClick, width }) {\n    return (\n        <Button\n            variant=\"outline-dark\"\n            size={width > 600 ? \"md\" : \"sm\"}\n            style={style}\n            onClick={onClick}>\n            {text}\n        </Button>\n    )\n}\n\nfunction UserAnimeList({ onAddAnime }) {\n\n    const { state, dispatch } = useContext(store)\n    const { width } = useWindowSize()\n    const [showImportModal, setShowImportModal] = useState(false)\n\n    const onClearAnime = () => {\n        dispatch({ type: actionTypes.CLEAR })\n    }\n\n    const [selected, setSelected] = useState({\n        key: 0,\n        showModal: false\n    })\n\n    return (\n        <div className=\"gradient-section\" style={{ minHeight: \"45vh\", backgroundColor: \"lightgrey\", paddingTop: \"1rem\" }}>\n            <Container style={{ display: \"flex\" }}>\n                <h3 style={{ marginLeft: \"1rem\", fontWeight: 300, fontSize: width > 600 ? \"\" : \"25px\" }}>\n                    Your List({state.userAnimeList.length})\n                </h3>\n                <div style={{ marginLeft: \"auto\" }}>\n                    <ListEditButtons style={{ marginRight: \"5px\" }} text=\"Add Anime\" onClick={onAddAnime} width={width} />\n                    {state.userAnimeList.length===0?<ListEditButtons style={{ marginRight: \"5px\" }} text=\"Import MAL\" onClick={()=>setShowImportModal(true)} width={width} />:\n                    <ListEditButtons style={{ marginLeft: \"5px\" }} text=\"Clear All\" onClick={onClearAnime} width={width} />}\n                </div>\n            </Container>\n            <Container>\n                <ScrollMenu\n                    arrowLeft={<div style={{ fontSize: \"30px\", marginRight: \"1rem\", fontWeight: 700 }}>{\" < \"}</div>}\n                    arrowRight={<div style={{ fontSize: \"30px\", marginLeft: \"1rem\", fontWeight: 700 }}>{\" > \"}</div>}\n                    arrowDisabledClass={\"d-none\"}\n                    hideSingleArrow={true}\n                    data={\n                        state.userAnimeList.map((a, i) => (\n                            <div key={i}\n                                className=\"menu-item\"\n                                style={{ display: \"grid\", maxWidth: \"21vh\" }}>\n                                <OverlayedImage id={a.id} image={a.image_path} title={a.title} score={a.score} />\n                            </div>\n                        ))\n\n                    }\n                    selected={selected.key}\n                    onSelect={(key) => {\n                        setSelected({ key: key, showModal: true })\n                    }}\n                />\n            </Container>\n            {selected.showModal &&\n                <EditAnimeModal anime={{ ...state.userAnimeList[selected.key] }} show={selected.showModal} handleClose={() => setSelected(prevState => { return { ...prevState, showModal: false } })} />\n            }\n            <ImportAnimeModal show={showImportModal} handleClose={()=>setShowImportModal(false)}/>\n        </div>\n    )\n}\n\nexport default UserAnimeList\n","import { React, useReducer, useContext, useEffect } from 'react'\n\nimport { Container, Button, ProgressBar, Spinner } from 'react-bootstrap'\nimport axios from 'axios'\n\nimport { store, actionTypes } from '../store'\nimport AnimeGrid from './AnimeGrid'\n\nconst initialState = {\n    loading: false,\n    recommendations: [],\n    error: false,\n    errorMessage: '',\n    progress: 0,\n    queue: 0\n};\n\n\nfunction reducer(state, action) {\n    switch (action.type) {\n        case 'REQ_SENT':\n            return {\n                loading: true,\n                recommendations: [],\n                error: false,\n                errorMessage: '',\n                progress: 0,\n                queue: action.payload.numWait || (-2) + 1\n            }\n        case 'PROGRESS':\n            return {\n                ...state,\n                progress: action.payload.progress\n            }\n        case 'FINISH':\n            return {\n                loading: false,\n                recommendations: action.payload.result,\n                error: false,\n                errorMessage: '',\n                progress: 0,\n                queue: 0,\n            }\n        case 'ERROR':\n            return {\n                loading: false,\n                recommendations: [],\n                error: true,\n                errorMessage: action.payload.error,\n                progress: 0,\n                queue: 0\n            }\n        default:\n            return initialState\n    }\n}\n\nfunction UserRecs() {\n    const [state, dispatch] = useReducer(reducer, initialState)\n    const { state: globalState, dispatch: globalDispatch } = useContext(store)\n    const userAnimeList = globalState.userAnimeList\n\n    function getRecs() {\n        dispatch({ type: 'REQ_SENT', payload: {} })\n        axios({\n            method: 'post',\n            url: 'https://animerecsys.glitch.me/recommendations/18',\n            data: {\n                \"animes\": [...userAnimeList.map((x) => x.id)],\n                \"scores\": [...userAnimeList.map((x) => x.score)]\n            },\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            withCredentials: true,\n        }).then((res) => {\n            dispatch({ type: 'REQ_SENT', payload: res.data })\n            globalDispatch({ type: actionTypes.SYNC })\n            setTimeout(() => {\n                pingForProgress(0)\n            }, 5000)\n        }).catch((err) => {\n            if (err.response.data.err === 'ACTIVE_JOB') {\n                pingForProgress(0)\n                return\n            }\n            dispatch({ type: 'ERROR', payload: { error: err.response.data.error } })\n        })\n    }\n\n    function pingForProgress(tries) {\n        if (tries > 30) {\n            dispatch({ type: 'ERROR', payload: { error: \"Job didn't finish in time\" } })\n        }\n        axios.get('https://animerecsys.glitch.me/job/',\n            { withCredentials: true }).then((res) => {\n                if (res.data.state === 'failed' || res.data.reason) {\n                    dispatch({ type: 'ERROR', payload: { error: 'Failed' } })\n                    return\n                }\n                if (res.data.result != null) {\n                    dispatch({ type: 'FINISH', payload: { result: res.data.result } })\n                }\n                else {\n                    dispatch({ type: 'PROGRESS', payload: { progress: res.data.progress } })\n                    setTimeout(() => {\n                        pingForProgress(tries + 1)\n                    }, 5000);\n                }\n            }).catch((err) => {\n                dispatch({ type: 'ERROR', payload: { error: err.response.data.error } })\n            })\n    }\n\n    useEffect(() => {\n        if (globalState.recsInSync) {\n            dispatch({ type: 'REQ_SENT', payload: {} })\n            axios.get('https://animerecsys.glitch.me/job/', {\n                withCredentials: true,\n            }).then((res) => {\n                if (res.data.state === 'failed') {\n                    dispatch({ type: 'reset' })\n                    return\n                }\n                if (res.data.result != null) {\n                    dispatch({ type: 'FINISH', payload: { result: res.data.result } })\n                }\n                else {\n                    dispatch({ type: 'PROGRESS', payload: { progress: res.data.progress } })\n                    setTimeout(() => {\n                        pingForProgress(0)\n                    }, 5000);\n                }\n            }).catch((err) => {\n                dispatch({ type: 'reset' })\n                // console.log(err)\n            })\n        }\n    }, [])\n\n    return <div style={{ minHeight: \"45vh\", position: \"relative\", paddingBottom: \"3rem\" }}>\n        <div style={{ textAlign: \"center\", position: \"absolute\", left: \"50%\", top: \"50%\", transform: \"translate(-50% , -50%)\" }}>\n            {state.loading && (state.progress > 0 ?\n                <ProgressBar variant=\"info\" now={state.progress} animated style={{ minWidth: \"200px\" }} /> :\n                <Spinner animation=\"grow\" variant=\"info\" />)}\n            {state.loading && (state.queue > 0 &&\n                <h6 className=\"text-muted\" style={{ marginTop: \"1rem\" }}>Wait Time...{state.queue * 30}s</h6>\n            )}\n            {state.error &&\n                <h6 className=\"text-danger\">{state.errorMessage}</h6>\n            }\n        </div>\n        {state.recommendations.length !== 0 &&\n            <AnimeGrid anime={state.recommendations} style={{ margin: \"3rem\" }}>\n                <Container fluid>\n                    <h3 style={{ marginBottom: \"2rem\", marginTop: \"2rem\" }}>{\"Recommended\"}</h3>\n                </Container>\n            </AnimeGrid>}\n        {!state.loading &&\n            <Button variant=\"outline-dark\" onClick={getRecs} disabled={userAnimeList.length < 10} style={{ position: \"absolute\", left: \"50%\", transform: \"translate(-50%,0)\", bottom: \"1rem\" }}>\n                {userAnimeList.length < 10 ? \"Add \" + (10 - userAnimeList.length) + \" more\" : \"Get Recommendations\"}\n            </Button>}\n    </div>\n}\n\nexport default UserRecs\n","import {React,useState} from 'react'\n\nimport NavBar from './NavBar'\nimport AddAnimeModal from './AddAnimeModal'\nimport UserAnimeList from './UserAnimeList'\nimport UserRecs from './UserRecs'\n\nfunction RecPage() {\n    const [addAnimeModal,setAddAnimeModal] = useState(false)\n\n    return (\n        <>\n            <NavBar />\n            <UserAnimeList onAddAnime={()=>setAddAnimeModal(true)}/>\n            <AddAnimeModal show={addAnimeModal} handleClose={()=>setAddAnimeModal(false)}/>\n            <UserRecs/>\n        </>\n    )\n}\n\nexport default RecPage\n","import React, { useEffect, Fragment } from 'react';\nimport { withRouter } from 'react-router-dom';\n\nfunction ScrollToTop({ history, children }) {\n  useEffect(() => {\n    const unlisten = history.listen(() => {\n      window.scrollTo(0, 0);\n    });\n    return () => {\n      unlisten();\n    }\n  }, []);\n\n  return <Fragment>{children}</Fragment>;\n}\n\nexport default withRouter(ScrollToTop);","import './App.css';\nimport {\n    HashRouter as Router,\n    Switch,\n    Route\n} from \"react-router-dom\";\nimport BrowsePage from \"./components/BrowsePage\";\nimport HomePage from \"./components/HomePage\";\nimport AnimePage from \"./components/AnimePage\";\nimport RecPage from \"./components/RecPage\";\nimport ScrollToTop from './components/ScrollToTop';\n\nfunction App() {\n    return (\n        <div className=\"App\">\n            <Router >\n                <ScrollToTop>\n                    <Switch>\n                        <Route path=\"/anime/:id\" children={<AnimePage />} />\n                        <Route path=\"/recommend\" children={<RecPage />} />\n                        <Route path=\"/browse\" children={<BrowsePage />} />\n                        <Route path=\"/\" children={<HomePage />} />\n                    </Switch>\n                </ScrollToTop>\n            </Router>\n        </div>\n    );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { StateProvider } from './store.js';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n  <StateProvider>\n    <App />\n  </StateProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}