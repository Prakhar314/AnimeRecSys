{"version":3,"sources":["components/AnimeCard.js","components/UseWindowSize.js","components/AnimeGrid.js","components/LoadingShar.js","components/tags.js","components/Chip.js","components/ColoredSwitch.js","components/SearchSection.js","components/NavBar.js","components/BrowsePage.js","components/HomePage.js","store.js","components/AnimeInfo.js","components/CenterDiv.js","components/EditAnimeModal.js","components/AnimePage.js","components/AddAnimeModal.js","components/OverlayedImage.js","components/UserAnimeList.js","components/UserRecs.js","components/RecPage.js","App.js","reportWebVitals.js","index.js"],"names":["AnimeCard","id","title","image","Card","style","border","marginBottom","textDecoration","to","Img","variant","src","objectFit","width","borderRadius","Body","padding","paddingTop","textAlign","marginLeft","marginRight","Subtitle","fontSize","fontWeight","overflowWrap","overflow","WebkitLineClamp","WebkitBoxOrient","display","useWindowSize","useState","undefined","height","windowSize","setWindowSize","useEffect","handleResize","window","innerWidth","innerHeight","addEventListener","removeEventListener","AnimeGrid","anime","children","fluid","currentPage","setCurrentPage","itemsPerPage","contentSize","numPages","Math","ceil","length","itemStart","itemEnd","Container","Row","flexWrap","paddingLeft","paddingRight","minHeight","slice","map","a","Col","xs","md","lg","image_path","Pagination","className","Prev","onClick","x","disabled","Array","keys","i","Item","active","Next","LoadingShar","process","alt","popularTags","tags","Chip","text","tooltip","color","textSp","margin","lineHeight","backgroundColor","boxShadow","OverlayTrigger","placement","delay","show","hide","overlay","props","Tooltip","ColoredSwitch","value","onTap","selected","setSelected","newVal","s","cursor","SearchSection","onSuggest","loading","setLoading","expandTags","setExpandTags","incTags","setIncTags","excTags","setExcTags","setValue","valueRef","useRef","current","fetchSuggestions","debouncedLoadSuggestions","useCallback","debounce","query","console","log","axios","method","url","data","headers","then","res","Jumbotron","alignItems","justifyContent","InputGroup","size","maxWidth","FormControl","placeholder","aria-label","aria-describedby","onChange","event","target","Append","Button","class","Spinner","animation","marginTop","item","k","tagStore","list","filter","changeTags","NavBar","Navbar","collapseOnSelect","expand","bg","Brand","href","Toggle","aria-controls","Collapse","Nav","BrowsePage","setAnime","suggestions","setSuggestions","pingServer","get","timeout","catch","err","code","message","includes","setTimeout","InlineLink","open","HomePage","aboutVisible","setAboutVisible","position","top","right","state","aria-expanded","zIndex","left","transform","Fade","in","bottom","rel","initialState","userAnimeList","JSON","parse","localStorage","getItem","recsInSync","actionTypes","Object","freeze","ADD_ANIME","Symbol","REMOVE_ANIME","CLEAR","SYNC","store","createContext","Provider","StateProvider","useReducer","action","type","payload","Error","dispatch","stringify","setItem","getMPAA","mpaa","getGenre","genre","split","g","AnimeInfo","mpaa_rating","score","CenterDiv","EditAnimeModal","handleClose","editing","globalDispatch","useContext","Modal","onHide","Header","closeButton","Title","classNames","count","isHalf","newValue","Footer","AnimePage","defaultImages","useMemo","cover","banner","useParams","images","setImages","React","setWidth","showAnimeModal","setShowAnimeModal","userScore","handleWindowResize","val","variables","post","result","Media","bannerImage","coverImage","large","details","title_japanese","title_english","synopsis","recommendations","AddAnimeModal","globalState","currentAnime","suggestion","setState","prevstate","searchInGlobal","animeAlreadyRated","paddingBottom","background","borderTop","borderBottom","OverlayedImage","ListEditButtons","UserAnimeList","onAddAnime","key","showModal","arrowLeft","arrowRight","arrowDisabledClass","hideSingleArrow","onSelect","prevState","error","errorMessage","progress","queue","reducer","numWait","UserRecs","pingForProgress","tries","withCredentials","status","response","ProgressBar","now","animated","minWidth","RecPage","addAnimeModal","setAddAnimeModal","App","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.6c4a735c.chunk.js","sourcesContent":["import React from 'react'\nimport { Card } from \"react-bootstrap\";\nimport { Link } from 'react-router-dom';\n\nfunction AnimeCard({ id, title, image }) {\n    // console.log(id)\n    return (\n        <Card style={{ border: \"none\" ,marginBottom:\"1rem\"}}>\n            <Link style={{ textDecoration: \"none\" }} to={`/anime/${id}`}>\n                <Card.Img variant=\"top\" src={image} style={{ objectFit: \"cover\", width: \"100%\", borderRadius: \"5px\" }} />\n            </Link>\n            <Card.Body style={{ padding: \"10px\",paddingTop: \"1rem\", textAlign: \"center\", marginLeft: \"-10%\", marginRight: \"-10%\" }}>\n                <Card.Subtitle style={{\n                    fontSize: \"1rem\", fontWeight: \"bold\", overflowWrap: \"normal\", overflow: \"hidden\",\n                    WebkitLineClamp: 2,\n                    WebkitBoxOrient: \"vertical\",\n                    display: \"-webkit-box\"\n                }}>{title}</Card.Subtitle>\n            </Card.Body>\n        </Card>\n    )\n}\n\nexport default AnimeCard\n","import { useState, useEffect } from 'react';\n\n// Hook\nfunction useWindowSize() {\n  // Initialize state with undefined width/height so server and client renders match\n  // Learn more here: https://joshwcomeau.com/react/the-perils-of-rehydration/\n  const [windowSize, setWindowSize] = useState({\n    width: undefined,\n    height: undefined,\n  });\n\n  useEffect(() => {\n    // Handler to call on window resize\n    function handleResize() {\n      // Set window width/height to state\n      setWindowSize({\n        width: window.innerWidth,\n        height: window.innerHeight,\n      });\n    }\n    \n    // Add event listener\n    window.addEventListener(\"resize\", handleResize);\n    \n    // Call handler right away so state gets updated with initial window size\n    handleResize();\n    \n    // Remove event listener on cleanup\n    return () => window.removeEventListener(\"resize\", handleResize);\n  }, []); // Empty array ensures that effect is only run on mount\n\n  return windowSize;\n}\n\nexport default useWindowSize;","import React, { useState, useEffect} from 'react'\nimport { Container, Row, Col, Pagination } from \"react-bootstrap\"\nimport AnimeCard from \"./AnimeCard\"\nimport useWindowSize from \"./UseWindowSize\"\n\nfunction AnimeGrid({ anime, children, fluid }) {\n    const { width } = useWindowSize()\n\n    const [currentPage, setCurrentPage] = useState(1)\n    // xs\n    let itemsPerPage = 6\n    let contentSize = \"38rem\"\n    if (width >= 992) {\n        // lg\n        itemsPerPage = 6\n        contentSize = \"21rem\"\n    }\n    else if (width >= 768) {\n        // md\n        itemsPerPage = 4\n        contentSize = \"20rem\"\n    }\n    else if(width<=480){\n        contentSize = \"33rem\"\n    }\n\n    useEffect(() => {\n        if(currentPage>numPages && numPages!=0){\n            setCurrentPage(numPages)\n        }\n    }, [itemsPerPage])\n\n    const numPages = Math.ceil(anime.length / itemsPerPage)\n    const itemStart = (currentPage - 1) * itemsPerPage\n    const itemEnd = itemStart + itemsPerPage\n\n    return (\n        <Container fluid={fluid || false}>\n            {children}\n            <Row style={{ flexWrap: \"wrap\", paddingLeft: \"10px\", paddingRight: \"10px\", minHeight: contentSize }}>\n                {anime.slice(itemStart, itemEnd).map((a) => (<Col key={a.id} xs={4} md={3} lg={2} style={{ paddingLeft: \"10px\", paddingRight: \"10px\" }}>\n                    <AnimeCard id={a.id} title={a.title} image={a.image_path} />\n                </Col>))}\n            </Row>\n            <div style={{ display: \"flex\" }}>\n                <Pagination className=\"mx-auto\">\n                    <Pagination.Prev onClick={() => setCurrentPage(x => x - 1)} disabled={currentPage == 1} />\n                    {[...Array(numPages).keys()].map((i) =>\n                        <Pagination.Item key={i + 1} active={currentPage === i + 1} onClick={() => setCurrentPage(i + 1)}>{i + 1}</Pagination.Item>)}\n                    <Pagination.Next onClick={() => setCurrentPage(x => x + 1)} disabled={currentPage == numPages} />\n                </Pagination>\n            </div>\n        </Container>\n    )\n}\n\nexport default AnimeGrid\n","import React from 'react'\n\nfunction LoadingShar({height}) {\n    // console.log(height)\n    return (\n        <div style={{\n            textAlign: \"center\",\n            height: `${height||50}vh`,\n            padding: \"calc(25% - 50px)\"\n        }}>\n            <img src={process.env.PUBLIC_URL+\"/sharingan.gif\"} alt=\"Loading\" style={{borderRadius:\"100%\"}}></img>\n        </div>\n    )\n}\n\nexport default LoadingShar\n","\nconst popularTags=['Adventure',\n 'Drama',\n 'School',\n 'Sci-Fi',\n 'Romance',\n 'Shounen',\n 'Fantasy',\n 'Comedy',\n 'Comedy',\n 'Action']\n\nconst tags =['Action',\n 'Adventure',\n 'Cars',\n 'Comedy',\n 'Dementia',\n 'Demons',\n 'Drama',\n 'Ecchi',\n 'Fantasy',\n 'Game',\n 'Harem',\n 'Historical',\n 'Horror',\n 'Josei',\n 'Kids',\n 'Magic',\n 'Martial Arts',\n 'Mecha',\n 'Military',\n 'Music',\n 'Mystery',\n 'Parody',\n 'Police',\n 'Psychological',\n 'Romance',\n 'Samurai',\n 'School',\n 'Sci-Fi',\n 'Seinen',\n 'Shoujo',\n 'Shoujo Ai',\n 'Shounen',\n 'Shounen Ai',\n 'Slice of Life',\n 'Space',\n 'Sports',\n 'Super Power',\n 'Supernatural',\n 'Thriller',\n 'Vampire']\nexport { tags,popularTags }","import { React } from 'react'\nimport { OverlayTrigger, Tooltip } from 'react-bootstrap'\n\n\nfunction Chip({ text, tooltip, color }) {\n    const renderTooltip = (props) => (\n        <Tooltip id=\"button-tooltip\" {...props}>\n            {tooltip}\n        </Tooltip>\n    );\n\n    const textSp = (<span style=\n        {{\n            display: \"inline-block\",\n            padding: \"0 14px\",\n            margin: \"2px\",\n            height: \"32px\",\n            lineHeight: \"30px\",\n            borderRadius: \"25px\",\n            backgroundColor: color || \"#F1F35B\",\n            boxShadow: \"0px 2px 10px -10px black\",\n            color: \"rgba(20,20,20,0.25)\",\n            fontWeight: \"700\"\n        }}>\n        {text}\n    </span>)\n\n    return (\n        tooltip == null ?\n            <span>{textSp}</span>\n            :\n            <OverlayTrigger\n                placement=\"right\"\n                delay={{ show: 150, hide: 150 }}\n                overlay={renderTooltip}\n            >\n                {textSp}\n            </OverlayTrigger>\n    )\n}\n\nexport default Chip\n","import { React, useState } from 'react'\nimport Chip from './Chip'\n\nfunction getColor(value) {\n    if (value === 0 || value === 2) {\n        return \"rgb(255 255 255 / 68%)\"\n    }\n    if (value === 1) {\n        return \"springgreen\"\n    }\n    if (value === 3) {\n        return \"rgb(255, 71, 71)\"\n    }\n}\n\nfunction ColoredSwitch({ text, onTap }) {\n    const [selected, setSelected] = useState(0)\n    function switchValue() {\n        let newVal = selected+1\n        if (selected < 3) {\n            setSelected(s => s + 1)\n        }\n        else {\n            setSelected(0)\n            newVal=0\n        }\n        onTap(newVal)\n    }\n    return (\n        <span onClick={switchValue} style={{cursor:\"pointer\"}}>\n            <Chip color={getColor(selected)} text={text}/>\n        </span>\n    )\n}\n\nexport default ColoredSwitch\n","import { React, useState, useCallback, useRef, useEffect } from 'react'\nimport debounce from 'lodash.debounce'\nimport axios from 'axios'\nimport { Jumbotron, Container, Spinner, InputGroup, FormControl, Button } from 'react-bootstrap';\nimport { tags, popularTags } from './tags'\nimport ColoredSwitch from './ColoredSwitch';\n\n\nexport default function SearchSection({ onSuggest }) {\n    const [loading, setLoading] = useState(false)\n    const [expandTags, setExpandTags] = useState(false)\n    const [incTags, setIncTags] = useState([])\n    const [excTags, setExcTags] = useState([])\n    const [value, setValue] = useState('')\n    const valueRef = useRef(value)\n    useEffect(() => {\n        valueRef.current = value\n    }, [value])\n    const loadSuggestions = (query) => {\n        console.log(\"fetching \" + query)\n        console.log(incTags)\n        console.log(excTags)\n        setLoading(true)\n        axios({\n            method: 'post',\n            url: `https://animerecsys.glitch.me/search/${query}/18`,\n            data: {\n                \"incgenre\": incTags,\n                \"excgenre\": excTags\n            },\n            headers: {\n                \"Content-Type\": \"application/json\"\n            }\n        }).then((res) => {\n            console.log(\"fetching \" + query + \" \" + valueRef.current)\n            if (query === valueRef.current) {\n                setLoading(false)\n                onSuggest(res.data)\n                // console.log(res.data)\n            } else { // Ignore suggestions if input value changed\n                setLoading(true)\n            }\n        })\n    }\n\n    const onChange = (event) => {\n        setValue(event.target.value)\n        fetchSuggestions(event.target.value)\n    };\n\n    const clearInput = () => {\n        setValue('')\n    }\n\n    const changeTags = (i, k) => {\n        console.log(incTags)\n        const tagStore = (expandTags ? tags : popularTags)\n        if (k === 0) {\n            const list = excTags.filter((item) => item !== tagStore[i])\n            setExcTags(list)\n        }\n        if (k === 2) {\n            const list = incTags.filter((item) => item !== tagStore[i])\n            setIncTags(list)\n        }\n        if (k === 1) {\n            setIncTags([...incTags, tagStore[i]])\n        }\n        if (k === 3) {\n            setExcTags([...excTags, tagStore[i]])\n        }\n    }\n\n    const fetchSuggestions = (value) => {\n        debouncedLoadSuggestions(value);\n    };\n\n    const debouncedLoadSuggestions = useCallback(debounce(loadSuggestions, 1000), [excTags, incTags]);\n\n    return (\n\n        <Jumbotron className=\"gradient-section\" style={{ minHeight: \"40vh\" }}>\n            <Container style={{ display: \"flex\", alignItems: \"center\", justifyContent: \"center\", }}>\n                <InputGroup size=\"lg\" style={{ maxWidth: \"400px\" }}>\n                    <FormControl\n                        placeholder=\"Search...\"\n                        aria-label=\"Search...\"\n                        aria-describedby=\"basic-addon2\"\n                        onChange={onChange}\n                        value={value}\n                    />\n                    <InputGroup.Append>\n                        <Button variant=\"outline-secondary\" onClick={() => clearInput()}> <i class=\"fa fa-close\"></i> </Button>\n                    </InputGroup.Append>\n                </InputGroup>\n                {loading && <Spinner style={{ marginLeft: \"1rem\" }} animation=\"grow\" />}\n            </Container>\n            <Container style={{ width: \"80%\", display: \"block\", textAlign: \"center\" }}>\n                <h5 style={{ fontWeight: 700, color: \"grey\", marginTop: \"1rem\" }}>Tags</h5>\n                {(expandTags ? tags : popularTags).map((item, i) => <ColoredSwitch text={item} key={i} onTap={(k) => changeTags(i, k)} />)}\n                <Button style={{ display: \"block\", marginTop: \"1rem\", marginLeft: \"auto\", marginRight: \"auto\" }} variant=\"secondary\" size=\"sm\" onClick={() => setExpandTags(x => !x)}>{expandTags ? \"Less\" : \"More\"}</Button>\n            </Container>\n\n        </Jumbotron>\n    )\n}\n\n","import React from 'react'\nimport { Navbar,Nav} from 'react-bootstrap'\nimport {Link} from 'react-router-dom'\nfunction NavBar() {\n    return (\n        <Navbar collapseOnSelect expand=\"md\" bg=\"dark\" variant=\"dark\">\n            <Navbar.Brand href=\"#/\">AnimeRecSys</Navbar.Brand>\n            <Navbar.Toggle aria-controls=\"responsive-navbar-nav\" />\n            <Navbar.Collapse id=\"responsive-navbar-nav\">\n                <Nav className=\"ml-auto\">\n                        <Link className=\"nav-link\" to=\"/browse\" >\n                        Browse\n                        </Link>\n                        <Link className=\"nav-link\" to=\"/recommend\" >\n                        Recommendations\n                        </Link>\n                </Nav>\n            </Navbar.Collapse>\n        </Navbar>\n    )\n}\n\nexport default NavBar\n","import { React, useEffect, useState, useCallback } from 'react'\nimport { Container } from 'react-bootstrap'\nimport axios from 'axios'\nimport AnimeGrid from './AnimeGrid';\nimport LoadingShar from './LoadingShar';\nimport SearchSection from './SearchSection';\nimport NavBar from './NavBar';\n\nfunction BrowsePage() {\n    const [anime, setAnime] = useState([])\n    const [suggestions, setSuggestions] = useState([])\n    const pingServer = useCallback(\n        () => {\n            axios.get('https://animerecsys.glitch.me/', { timeout: 5000 }).then((res) => {\n                // console.log(res.data)\n                setAnime(res.data)\n            }).catch(err => {\n                console.log(err.code)\n                if (err.message.includes('timeout')) {\n                    setTimeout(pingServer, 1000)\n                }\n            })\n        },\n        [],\n    )\n\n    useEffect(() => {\n        pingServer()\n    }, [pingServer])\n    return (\n        <>\n            <NavBar />\n            {anime.length === 0 ? <LoadingShar height=\"calc( 100vh - 56px)\" /> :\n                <>\n                    <SearchSection onSuggest={(res) => { setSuggestions(res) }} />\n                    <Container>\n                        <h3 style={{ marginBottom: \"2rem\" }}>{suggestions.length === 0 ? \"Popular Shows\" : \"Search Results\"}</h3>\n                    </Container></>}\n            {suggestions.length === 0 && anime.length !== 0 && <AnimeGrid anime={anime} />}\n            {suggestions.length !== 0 && <AnimeGrid anime={suggestions} />}\n        </>\n    )\n}\n\nexport default BrowsePage\n","import React, { useState } from 'react'\nimport { Link } from 'react-router-dom'\nimport { Button, Fade, Collapse } from 'react-bootstrap'\n\nfunction HomePage() {\n    const [aboutVisible, setAboutVisible] = useState(false)\n    return (\n        <div position=\"relative\">\n            <div style={{ position: \"absolute\", top: \"1rem\", right: \"1rem\" }}>\n                <Button\n                    onClick={() => setAboutVisible(state => !state)}\n                    aria-controls=\"fade-nav-buttons fade-description fade-git-link fade-subtitle\"\n                    aria-expanded={aboutVisible}\n                    variant=\"outline-light\"\n                    style={{ borderRadius: \"50%\" }}\n                >\n                    <i className={aboutVisible ? \"fa fa-home\" : \"fa fa-info-circle\"}></i>\n                </Button>\n            </div>\n\n            <img src={process.env.PUBLIC_URL+\"/AttackOnJojo.gif\"} style={{ position: \"absolute\", zIndex: \"-1\", width: \"100vw\", height: \"100vh\", objectFit: \"cover\" }} />\n\n            <div className=\"brand\" style={{ color: \"lightgray\", margin: \"auto\", position: \"absolute\", top: \"28%\", left: \"50%\", transform: \"translate(-50%, 0%)\", textAlign: \"center\" }}>\n                <h1 style={{ fontSize: \"min(13vw,100px)\" }}>AnimeRecSys</h1>\n                <Fade in={!aboutVisible}>\n                    <p id=\"fade-subtitle\">There couldn't be a better name...</p>\n                </Fade>\n                <Collapse in={aboutVisible}>\n                    <div id=\"fade-description\">\n                        <p>This project uses a <InlineLink href={\"https://arxiv.org/abs/1708.05031\"} text=\"collaborative filtering\" /> based recommender system, built using Tensorflow 2.0, on  <InlineLink href={\"https://www.kaggle.com/qvinhdo/myanimelist\"} text=\"this Kaggle\" /> dataset. The webapp is built using React, Express and Bull.</p>\n                    </div>\n                </Collapse>\n            </div>\n\n            <div style={{ position: \"absolute\", bottom: \"2rem\", left: \"50%\", transform: \"translate(-50%,0)\", display: \"inline-block\", textAlign: \"center\" }}>\n                <Collapse in={aboutVisible}>\n                    <div id=\"fade-git-link\">\n                        <a rel=\"noreferrer\" target=\"_blank\" className=\"btn btn-outline-light\" href=\"https://github.com/Prakhar314/AnimeRecSys\" style={{ margin: \"0.5rem\" }}><i className=\"fa fa-github\" /> View on Github</a>\n                    </div>\n                </Collapse>\n                <Collapse in={!aboutVisible}>\n                    <div id=\"fade-nav-buttons\">\n                        <Link className=\"btn btn-outline-light\" to=\"/browse\" style={{ margin: \"0.5rem\" }}>Browse Animes</Link>\n                        <Link className=\"btn btn-outline-light\" to=\"/recommend\" style={{ margin: \"0.5rem\" }}>Get Recommendations</Link>\n                    </div>\n                </Collapse>\n            </div>\n        </div>\n    )\n}\n\nfunction InlineLink({ href, text }) {\n    return (\n        <span className=\"inline-link\" onClick={() => window.open(href)}>\n            {text}\n        </span>\n    )\n}\n\n\nexport default HomePage\n","import React, { createContext, useReducer, useEffect } from 'react'\n\n\nconst initialState = {\n    userAnimeList: JSON.parse(localStorage.getItem('userAnimeList') || '[]'),\n    recsInSync: JSON.parse(localStorage.getItem('recsInSync') || 'false')\n};\n\nconst actionTypes = Object.freeze({\n    ADD_ANIME: Symbol('ADD_ANIME'),\n    REMOVE_ANIME: Symbol('REMOVE_ANIME'),\n    CLEAR: Symbol('CLEAR'),\n    SYNC: Symbol('SYNC')\n})\n\nconst store = createContext(initialState);\nconst { Provider } = store;\n\nconst StateProvider = ({ children }) => {\n\n    const [state, dispatch] = useReducer((state, action) => {\n        switch (action.type) {\n            case actionTypes.ADD_ANIME:\n                return {\n                    recsInSync: false,\n                    userAnimeList: [action.payload, ...state.userAnimeList.filter((item) => item.id !== action.payload.id)]\n                }\n\n            case actionTypes.REMOVE_ANIME:\n                return {\n                    recsInSync: false,\n                    userAnimeList: [...state.userAnimeList.filter((item) => item.id !== action.payload.id)]\n                }\n            case actionTypes.CLEAR:\n                return {\n                    recsInSync: false,\n                    userAnimeList: []\n                }\n            case actionTypes.SYNC:\n                return {\n                    ...state,\n                    recsInSync: true\n                }\n            default:\n                throw new Error();\n        };\n    }, initialState);\n\n    useEffect(() => {\n        console.log('setting a ' + JSON.stringify(state.userAnimeList))\n        localStorage.setItem('userAnimeList', JSON.stringify(state.userAnimeList))\n    }, [state.userAnimeList])\n\n    useEffect(() => {\n        console.log('setting b ' + JSON.stringify(state.recsInSync))\n        localStorage.setItem('recsInSync', JSON.stringify(state.recsInSync))\n    }, [state.recsInSync])\n\n    return <Provider value={{ state, dispatch }}>{children}</Provider>;\n};\n\nexport { store, StateProvider, actionTypes }","import React from 'react'\nimport Chip from \"./Chip\"\n\nfunction getMPAA(mpaa) {\n    switch (mpaa) {\n        case 'R - 17+ (violence & profanity)':\n            return { text: 'R-17+', tooltip: \"Violence & Profanity\", color: \"#fc1303\" }\n        case 'PG-13 - Teens 13 or older':\n            return { text: 'PG-13', tooltip: \"Teens 13 or Older\", color: \"#e7f03c\" }\n        case 'PG - Children':\n            return { text: 'PG', tooltip: \"Children\", color: \"#31d65d\" }\n        case 'R+ - Mild Nudity':\n            return { text: 'R+', tooltip: \"Mild Nudity\", color: \"#fc1303\" }\n        case 'G - All Ages':\n            return { text: 'G', tooltip: \"All Ages\", color: \"#31d65d\" }\n        default:\n            return { text: mpaa }\n    }\n}\n\nfunction getGenre(genre) {\n    return (<>{genre.split(\",\").map((g) => <Chip text={g} color=\"#e1e3e3\" />)}</>)\n}\n\nfunction AnimeInfo({ mpaa_rating, score, genre }) {\n    return (\n        <>\n            <p style={{marginBottom:\"0.2rem\"}}><Chip {...getMPAA(mpaa_rating)} /> <Chip text={score} color=\"#46ebda\" /></p>\n            <p>{getGenre(genre)}</p>\n        </>\n    )\n}\n\nexport default AnimeInfo\n","import React from 'react'\n\nfunction CenterDiv({children}) {\n    return (\n        <div style={{ display: \"flex\", justifyContent: \"center\", height:\"100%\", alignItems:\"center\" }}>\n            {children}\n        </div>\n    )\n}\n\nexport default CenterDiv\n","import React, { useContext } from 'react'\n\nimport { Modal, Button } from 'react-bootstrap'\nimport ReactStars from 'react-rating-stars-component'\n\nimport { store, actionTypes } from '../store'\nimport CenterDiv from './CenterDiv'\n\nfunction EditAnimeModal({ anime, handleClose, show, editing }) {\n\n    const {dispatch: globalDispatch } = useContext(store)\n\n    const updateAnime = () => {\n        handleClose()\n        globalDispatch({ type: actionTypes.ADD_ANIME, payload: anime })\n    }\n\n    const deleteAnime = () => {\n        handleClose()\n        globalDispatch({ type: actionTypes.REMOVE_ANIME, payload: anime })\n    }\n\n    return (\n        <Modal show={show} onHide={handleClose} id={\"edit-anime-modal\"}>\n            <Modal.Header closeButton>\n                <Modal.Title>{editing!==false?'Edit Rating':'Add Rating'}</Modal.Title>\n            </Modal.Header>\n            <Modal.Body style={{ textAlign: \"center\" }}>\n                {!anime.image_path && <CenterDiv><h3 style={{ fontWeight: 200 }}>Nothing Selected</h3></CenterDiv>}\n                {anime.image_path &&\n                    <>\n                        <img src={anime.image_path} alt={anime.title} style={{ width: \"80%\" }} />\n                        <h3 style={{ marginTop: \"1rem\" }}>{anime.title}</h3>\n                        <ReactStars\n                            classNames=\"mx-auto\"\n                            size={35}\n                            count={5}\n                            isHalf={true}\n                            onChange={newValue => {\n                                anime.score = newValue * 2\n                            }\n                            } />\n                    </>\n                }\n                {/* {JSON.stringify(anime)} */}\n            </Modal.Body>\n            <Modal.Footer>\n                <Button variant=\"secondary\" size=\"sm\" onClick={handleClose}>\n                    Close\n                </Button>\n                {editing!==false &&\n                <Button variant=\"danger\" size=\"sm\" onClick={deleteAnime}>\n                    Remove\n                </Button>}\n                <Button variant=\"primary\" size=\"sm\" onClick={updateAnime}>\n                    Save Changes\n                </Button>\n            </Modal.Footer>\n        </Modal>\n    )\n}\n\nexport default EditAnimeModal\n","import {\n    useParams\n} from \"react-router-dom\";\nimport React, { useState, useEffect, useMemo , useContext} from 'react'\nimport axios from 'axios'\nimport { Col, Row, Container, Button } from 'react-bootstrap'\n\nimport NavBar from \"./NavBar\"\nimport { store } from '../store'\nimport AnimeGrid from \"./AnimeGrid\"\nimport AnimeInfo from \"./AnimeInfo\"\nimport LoadingShar from \"./LoadingShar\"\nimport EditAnimeModal from \"./EditAnimeModal\"\n\nexport default function AnimePage() {\n    // We can use the `useParams` hook here to access\n    // the dynamic pieces of the URL.\n    const defaultImages = useMemo(()=>{return{ cover: process.env.PUBLIC_URL+'/coverPlaceholder.png', banner: process.env.PUBLIC_URL+'/bannerPlaceholder.png' }},[])\n    const { id } = useParams();\n    const [anime, setAnime] = useState({})\n    const [images, setImages] = useState(defaultImages)\n    const [width, setWidth] = React.useState(window.innerWidth)\n    const [showAnimeModal, setShowAnimeModal] = useState(false)\n    const {state:globalState } = useContext(store)\n\n    const userScore = (globalState.userAnimeList.filter((x)=>x.id===id)[0]||{score:null}).score\n\n    React.useEffect(() => {\n        const handleWindowResize = () => setWidth(window.innerWidth)\n        window.addEventListener(\"resize\", handleWindowResize)\n        return () => window.removeEventListener(\"resize\", handleWindowResize)\n    }, [])\n\n    useEffect(() => {\n        setImages(defaultImages)\n        axios.get(`https://animerecsys.glitch.me/anime/${id}/18`).then((val) => {\n            // console.log(val.data.details);\n            setAnime(val.data)\n        })\n        // This is the GraphQL query\n        const query = `\n            query ($id: Int) {\n                Media(idMal: $id, type: ANIME) {\n                    coverImage {\n                    large\n                    }\n                    bannerImage\n                }\n            }\n            `;\n\n        // These variables are optional, leave empty for now\n        const variables = { \"id\": id };\n        axios.post('https://graphql.anilist.co', {\n            query,\n            variables\n        }).then((result) => {\n            setImages({\n                banner: result.data.data.Media.bannerImage || defaultImages.banner,\n                cover: result.data.data.Media.coverImage.large || defaultImages.cover\n            });\n        });\n    }, [id,defaultImages])\n    return (\n        <>\n            <NavBar />\n            {anime.details &&\n                <div>\n                    <img src={images.banner} alt={anime.details.title} style={{ height: \"min(500px,60vw)\", width: \"100%\", objectFit: \"cover\" }}></img>\n                    <Container>\n                        <Row>\n                            <Col xs={12} md={4} style={{ paddingRight: width > 768 ? \"0px\" : \"15px\", textAlign: width > 768 ? \"left\" : \"center\" }}>\n                                <div style={{ display: \"flex\" }}>\n                                    <img src={images.cover} alt={anime.details.title} style={{ marginTop: \"-120px\", boxShadow: \"0px 0px 68px -19px black\", marginLeft: width > 768 ? \"unset\" : \"auto\", marginRight: width > 768 ? \"unset\" : \"auto\" }}></img>\n                                </div>\n                                <h5 style={{ color: \"rgb(108, 117, 125)\", fontWeight: \"300\", marginTop: \"2rem\" }}>{anime.details.title_japanese}, {anime.details.title_english}</h5>\n                                <AnimeInfo {...anime.details} />\n                            </Col>\n                            <Col xs={12} md={8} style={{ marginLeft: width > 768 ? \"15px\" : \"0px\", marginRight: \"-15px\" }}>\n                                <h2 style={{ marginTop: \"2rem\", marginBottom: \"1rem\", textAlign: width > 768 ? \"left\" : \"center\" }}>{anime.details.title}</h2>\n                                <p>{anime.details.synopsis}</p>\n                                <div className=\"text-center text-sm-left\">\n                                    <Button variant=\"outline-dark m-1\" onClick={()=>setShowAnimeModal(true)}>\n                                        {userScore!=null?`Rated ${userScore}`:'Rate this Anime'}\n                                    </Button>\n                                    <a rel=\"noreferrer\" target=\"_blank\" href={`https://www.myanimelist.net/anime/${id}`} className=\"btn btn-outline-dark m-1\">Open in MyAnimeList</a>\n                                </div>\n                            </Col>\n                        </Row>\n                    </Container>\n                    <AnimeGrid anime={anime.recommendations}>\n                        <h3 style={{ marginTop: \"2rem\", marginBottom: \"1rem\", textAlign: width > 768 ? \"left\" : \"center\" }}>Recommendations</h3>\n                    </AnimeGrid>\n                    <EditAnimeModal anime={{id:anime.details.id,title:anime.details.title,image_path:images.cover}} handleClose={()=>setShowAnimeModal(false)} show={showAnimeModal} editing={false}/>\n                </div>}\n            {anime.details == null && <LoadingShar />}\n        </>\n    );\n}","import React, { useState, useCallback, useRef, useEffect, useContext } from 'react'\n\nimport { Modal, Button, Row, Col, InputGroup, FormControl, Spinner } from 'react-bootstrap'\nimport debounce from 'lodash.debounce'\nimport axios from 'axios'\nimport ReactStars from \"react-rating-stars-component\"\n\nimport { store, actionTypes } from '../store'\nimport CenterDiv from './CenterDiv'\n\nfunction AddAnimeModal({ show, handleClose }) {\n\n    const { state: globalState, dispatch: globalDispatch } = useContext(store)\n\n    function handleAdd(item) {\n        globalDispatch({ type: actionTypes.ADD_ANIME, payload: { ...item } })\n    }\n\n    const [state, setState] = useState({\n        loading: false,\n        value: '',\n        currentAnime: {},\n        suggestion: []\n    })\n    const valueRef = useRef(state.value)\n\n    useEffect(() => {\n        valueRef.current = state.value\n    }, [state.value])\n\n    const loadSuggestions = (query) => {\n        console.log(\"fetching \" + query)\n        setState(prevstate => {\n            return { ...prevstate, loading: true }\n        })\n        axios({\n            method: 'post',\n            url: `https://animerecsys.glitch.me/search/${query}/5`,\n            headers: {\n                \"Content-Type\": \"application/json\"\n            }\n        }).then((res) => {\n            console.log(\"fetching \" + query + \" \" + valueRef.current)\n            if (query === valueRef.current) {\n                setState(prevstate => {\n                    return { ...prevstate, loading: false, suggestion: res.data }\n                })\n                // console.log(res.data)\n            } else { // Ignore suggestions if input value changed\n                setState(prevstate => {\n                    return { ...prevstate, loading: true }\n                })\n            }\n        })\n    }\n\n    const onChange = (event) => {\n        setState(prevstate => {\n            return { ...prevstate, value: event.target.value, currentAnime: {} }\n        })\n        fetchSuggestions(event.target.value)\n    };\n\n    const fetchSuggestions = (value) => {\n        debouncedLoadSuggestions(value)\n    };\n\n    const setCurrentAnime = (anime) => {\n        setState(prevstate => {\n            return { ...prevstate, currentAnime: anime }\n        })\n    }\n\n    const clearInput = () => {\n        setState(prevstate => {\n            return { ...prevstate, value: '', loading: false }\n        })\n    }\n\n    const debouncedLoadSuggestions = useCallback(debounce(loadSuggestions, 1000), [])\n\n    const searchInGlobal = globalState.userAnimeList.filter((i) => i.id === state.currentAnime.id)\n    const animeAlreadyRated = searchInGlobal.length !== 0 && (state.currentAnime.score == null || state.currentAnime.score === searchInGlobal[0].score)\n\n    return (\n        <Modal show={show} onHide={handleClose}>\n            <Modal.Header closeButton>\n                <Modal.Title>Rate Anime</Modal.Title>\n            </Modal.Header>\n            <Modal.Body style={{ paddingLeft: \"1rem\", paddingRight: \"1rem\", paddingBottom: \"0px\", paddingTop: \"0px\" }}>\n                <Row style={{ minHeight: \"300px\" }}>\n                    <Col style={{ background: \"linear-gradient(180deg, rgba(230,250,255,1) 0%, rgba(187,226,255,1) 100%)\", paddingTop: \"1rem\" }}>\n                        <InputGroup size=\"sm\">\n                            <FormControl\n                                placeholder=\"Search\"\n                                aria-label=\"Search...\"\n                                aria-describedby=\"basic-addon2\"\n                                onChange={onChange}\n                                value={state.value}\n                            />\n                            <InputGroup.Append>\n                                <Button variant=\"outline-secondary\" onClick={() => clearInput()}> <i class=\"fa fa-close\"></i> </Button>\n                            </InputGroup.Append>\n                        </InputGroup>\n                        {state.loading &&\n                            <div style={{ display: \"flex\", height: \"80%\" }}>\n                                <Spinner animation=\"grow\" style={{ margin: \"auto\" }} />\n                            </div>}\n                        <div style={{ paddingTop: \"1rem\", paddingBottom: \"1rem\" }}>\n                            {\n                                !state.loading && state.suggestion.length !== 0 &&\n                                state.suggestion.map((a, i) =>\n                                    <h6 key={a.id}\n                                        style={{\n                                            padding: \"10px\",\n                                            borderTop: i === 0 ? \"1px solid gray\" : \"none\",\n                                            borderBottom: \"1px solid gray\",\n                                            marginBottom: \"5px\",\n                                            cursor: \"pointer\"\n                                        }}\n                                        onClick={() => setCurrentAnime(a)}\n                                    >\n                                        {a.title}\n                                    </h6>)\n                            }\n                            {\n                                !state.loading && state.suggestion.length === 0 && <CenterDiv><h6 style={{ fontWeight: 200 }}>Suggestions will show up here</h6></CenterDiv>\n                            }\n                        </div>\n                    </Col>\n                    <Col style={{ textAlign: \"center\" }}>\n                        {!state.currentAnime.image_path && <CenterDiv><h3 style={{ fontWeight: 200 }}>Nothing Selected</h3></CenterDiv>}\n                        {state.currentAnime.image_path &&\n                            <>\n                                <img src={state.currentAnime.image_path} alt={state.currentAnime.title} style={{ width: \"80%\" }} />\n                                <h3 style={{ marginTop: \"1rem\" }}>{state.currentAnime.title}</h3>\n                                <ReactStars\n                                    classNames=\"mx-auto\"\n                                    size={35}\n                                    count={5}\n                                    isHalf={true}\n                                    onChange={newValue => {\n                                        state.currentAnime.score = newValue * 2\n                                        setState(prevstate => { return { ...prevstate } })\n                                    }\n                                    } />\n                            </>\n                        }\n                    </Col>\n                </Row>\n            </Modal.Body>\n            <Modal.Footer>\n                <Button variant=\"secondary\" size=\"sm\" onClick={handleClose}>\n                    Close\n                </Button>\n                <Button variant=\"primary\" size=\"sm\" onClick={() => handleAdd(state.currentAnime)} disabled={state.currentAnime.score == null || animeAlreadyRated}>\n                    {animeAlreadyRated ? `Rated ${searchInGlobal[0].score}` : 'Save Rating'}\n                </Button>\n            </Modal.Footer>\n        </Modal>\n    )\n}\n\nexport default AddAnimeModal\n","import React from 'react'\nimport { Card } from 'react-bootstrap'\nfunction OverlayedImage({ id, title, image, score }) {\n    return (\n        <Card style={{ border: \"none\", margin: \"0.5rem\", backgroundColor: \"transparent\", cursor:\"pointer\" }}>\n\n            <Card.Img variant=\"top\" src={image} style={{ objectFit: \"cover\", height: \"30vh\", borderRadius: \"10px\", display: \"block\" }} />\n            <div style={{\n                backgroundColor: \"#000000a6\",\n                color: \"white\",\n                fontWeight: 700,\n                fontSize: \"smaller\",\n                position: \"absolute\", top: 0, left: 0, right: 0, bottom: 0,\n                borderRadius: \"10px\",\n                textAlign: \"center\",\n                display: \"flex\",\n                justifyContent: \"center\",\n                alignItems: \"flex-end\",\n                paddingBottom: \"1rem\"\n            }}>\n                <h1 style={{\n                    position: \"absolute\", top: \"50%\",\n                    fontWeight: 800,\n                    transform: \"translate( 0 , -50% )\"\n                }}>\n                    {score || 10}\n                </h1>\n                {title.slice(0,50)}\n            </div>\n        </Card>\n    )\n}\n\nexport default OverlayedImage\n","import React, { useState, useContext } from 'react'\n\nimport ScrollMenu from 'react-horizontal-scrolling-menu'\nimport { Container, Button } from 'react-bootstrap'\n\nimport { store, actionTypes } from '../store'\nimport OverlayedImage from './OverlayedImage'\nimport EditAnimeModal from './EditAnimeModal'\nimport useWindowSize from './UseWindowSize'\n\nfunction ListEditButtons({ text, style, onClick, width }) {\n    return (\n        <Button\n            variant=\"outline-dark\"\n            size={width > 600 ? \"md\" : \"sm\"}\n            style={style}\n            onClick={onClick}>\n            {text}\n        </Button>\n    )\n}\n\nfunction UserAnimeList({ onAddAnime }) {\n\n    const { state, dispatch } = useContext(store)\n    const { width } = useWindowSize()\n\n    const onClearAnime = () => {\n        dispatch({ type: actionTypes.CLEAR })\n    }\n\n    const [selected, setSelected] = useState({\n        key: 0,\n        showModal: false\n    })\n\n    return (\n        <div className=\"gradient-section\" style={{ minHeight: \"45vh\", backgroundColor: \"lightgrey\", paddingTop: \"1rem\" }}>\n            <Container style={{ display: \"flex\" }}>\n                <h3 style={{ marginLeft: \"1rem\", fontWeight: 300, fontSize: width > 600 ? \"\" : \"25px\" }}>\n                    Your List({state.userAnimeList.length})\n                </h3>\n                <div style={{ marginLeft: \"auto\" }}>\n                    <ListEditButtons style={{ marginRight: \"5px\" }} text=\"Add Anime\" onClick={onAddAnime} width={width} />\n                    <ListEditButtons style={{ marginLeft: \"5px\" }} text=\"Clear All\" onClick={onClearAnime} width={width} />\n                </div>\n            </Container>\n            <Container>\n                <ScrollMenu\n                    arrowLeft={<div style={{ fontSize: \"30px\", marginRight: \"1rem\", fontWeight: 700 }}>{\" < \"}</div>}\n                    arrowRight={<div style={{ fontSize: \"30px\", marginLeft: \"1rem\", fontWeight: 700 }}>{\" > \"}</div>}\n                    arrowDisabledClass={\"d-none\"}\n                    hideSingleArrow={true}\n                    data={\n                        state.userAnimeList.map((a, i) => (\n                            <div key={i}\n                                className=\"menu-item\"\n                                style={{ display: \"grid\", maxWidth: \"21vh\" }}>\n                                <OverlayedImage id={a.id} image={a.image_path} title={a.title} score={a.score} />\n                            </div>\n                        ))\n\n                    }\n                    selected={selected.key}\n                    onSelect={(key) => {\n                        setSelected({ key: key, showModal: true })\n                    }}\n                />\n            </Container>\n            {selected.showModal &&\n                <EditAnimeModal anime={{ ...state.userAnimeList[selected.key] }} show={selected.showModal} handleClose={() => setSelected(prevState => { return { ...prevState, showModal: false } })} />\n            }\n        </div>\n    )\n}\n\nexport default UserAnimeList\n","import { React, useReducer, useContext, useEffect } from 'react'\n\nimport { Container, Button, ProgressBar, Spinner } from 'react-bootstrap'\nimport axios from 'axios'\n\nimport { store, actionTypes } from '../store'\nimport AnimeGrid from './AnimeGrid'\n\nconst initialState = {\n    loading: false,\n    recommendations: [],\n    error: false,\n    errorMessage: '',\n    progress: 0,\n    queue: 0\n};\n\n\nfunction reducer(state, action) {\n    switch (action.type) {\n        case 'REQ_SENT':\n            return {\n                loading: true,\n                recommendations: [],\n                error: false,\n                errorMessage: '',\n                progress: 0,\n                queue: action.payload.numWait || (-2) + 1\n            }\n        case 'PROGRESS':\n            return {\n                ...state,\n                progress: action.payload.progress\n            }\n        case 'FINISH':\n            return {\n                loading: false,\n                recommendations: action.payload.result,\n                error: false,\n                errorMessage: '',\n                progress: 0,\n                queue: 0,\n            }\n        case 'ERROR':\n            return {\n                loading: false,\n                recommendations: [],\n                error: true,\n                errorMessage: action.payload.error,\n                progress: 0,\n                queue: 0\n            }\n        default:\n            return initialState\n    }\n}\n\nfunction UserRecs() {\n    const [state, dispatch] = useReducer(reducer, initialState)\n    const { state: globalState, dispatch: globalDispatch } = useContext(store)\n    const userAnimeList = globalState.userAnimeList\n\n    function getRecs() {\n        dispatch({ type: 'REQ_SENT', payload: {} })\n        axios({\n            method: 'post',\n            url: 'https://animerecsys.glitch.me/recommendations/18',\n            data: {\n                \"animes\": [...userAnimeList.map((x) => x.id)],\n                \"scores\": [...userAnimeList.map((x) => x.score)]\n            },\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            withCredentials: true,\n        }).then((res) => {\n            dispatch({ type: 'REQ_SENT', payload: res.data })\n            globalDispatch({ type: actionTypes.SYNC })\n            setTimeout(() => {\n                pingForProgress(0)\n            }, 5000)\n        }).catch((err) => {\n            if (err.response.data.err === 'ACTIVE_JOB') {\n                pingForProgress(0)\n                return\n            }\n            dispatch({ type: 'ERROR', payload: { error: err.response.data.error } })\n        })\n    }\n\n    function pingForProgress(tries) {\n        if (tries > 30) {\n            dispatch({ type: 'ERROR', payload: { error: \"Job didn't finish in time\" } })\n        }\n        axios.get('https://animerecsys.glitch.me/job/',\n            { withCredentials: true }).then((res) => {\n                if (res.data.status === 'failed') {\n                    dispatch({ type: 'ERROR', payload: { error: 'Failed' } })\n                    return\n                }\n                if (res.data.result != null) {\n                    dispatch({ type: 'FINISH', payload: { result: res.data.result } })\n                }\n                else {\n                    dispatch({ type: 'PROGRESS', payload: { progress: res.data.progress } })\n                    setTimeout(() => {\n                        pingForProgress(tries + 1)\n                    }, 5000);\n                }\n            }).catch((err) => {\n                dispatch({ type: 'ERROR', payload: { error: err.response.data.error } })\n            })\n    }\n\n    useEffect(() => {\n        if (globalState.recsInSync) {\n            dispatch({ type: 'REQ_SENT', payload: {} })\n            axios.get('https://animerecsys.glitch.me/job/', {\n                withCredentials: true,\n            }).then((res) => {\n                if (res.data.status === 'failed') {\n                    dispatch({ type: 'reset' })\n                    return\n                }\n                if (res.data.result != null) {\n                    dispatch({ type: 'FINISH', payload: { result: res.data.result } })\n                }\n                else {\n                    dispatch({ type: 'PROGRESS', payload: { progress: res.data.progress } })\n                    setTimeout(() => {\n                        pingForProgress(0)\n                    }, 5000);\n                }\n            }).catch((err) => {\n                dispatch({ type: 'reset' })\n                console.log(err)\n            })\n        }\n    }, [])\n\n    return <div style={{ minHeight: \"45vh\", position: \"relative\", paddingBottom: \"3rem\" }}>\n        <div style={{ textAlign: \"center\", position: \"absolute\", left: \"50%\", top: \"50%\", transform: \"translate(-50% , -50%)\" }}>\n            {state.loading && (state.progress > 0 ?\n                <ProgressBar variant=\"info\" now={state.progress} animated style={{ minWidth: \"200px\" }} /> :\n                <Spinner animation=\"grow\" variant=\"info\" />)}\n            {state.loading && (state.queue > 0 &&\n                <h6 className=\"text-muted\" style={{ marginTop: \"1rem\" }}>Wait Time...{state.queue * 30}s</h6>\n            )}\n            {state.error &&\n                <h6 className=\"text-danger\">{state.errorMessage}</h6>\n            }\n        </div>\n        {state.recommendations.length !== 0 &&\n            <AnimeGrid anime={state.recommendations} style={{ margin: \"3rem\" }}>\n                <Container fluid>\n                    <h3 style={{ marginBottom: \"2rem\", marginTop: \"2rem\" }}>{\"Recommended\"}</h3>\n                </Container>\n            </AnimeGrid>}\n        {!state.loading &&\n            <Button variant=\"outline-dark\" onClick={getRecs} disabled={userAnimeList.length < 10} style={{ position: \"absolute\", left: \"50%\", transform: \"translate(-50%,0)\", bottom: \"1rem\" }}>\n                {userAnimeList.length < 10 ? \"Add \" + (10 - userAnimeList.length) + \" more\" : \"Get Recommendations\"}\n            </Button>}\n    </div>\n}\n\nexport default UserRecs\n","import {React,useState} from 'react'\n\nimport NavBar from './NavBar'\nimport AddAnimeModal from './AddAnimeModal'\nimport UserAnimeList from './UserAnimeList'\nimport UserRecs from './UserRecs'\n\nfunction RecPage() {\n    const [addAnimeModal,setAddAnimeModal] = useState(false)\n\n    return (\n        <>\n            <NavBar />\n            <UserAnimeList onAddAnime={()=>setAddAnimeModal(true)}/>\n            <AddAnimeModal show={addAnimeModal} handleClose={()=>setAddAnimeModal(false)}/>\n            <UserRecs/>\n        </>\n    )\n}\n\nexport default RecPage\n","import './App.css';\nimport {\n    HashRouter as Router,\n    Switch,\n    Route\n} from \"react-router-dom\";\nimport BrowsePage from \"./components/BrowsePage\";\nimport HomePage from \"./components/HomePage\";\nimport AnimePage from \"./components/AnimePage\";\nimport RecPage from \"./components/RecPage\";\n\nfunction App() {\n    return (\n        <div className=\"App\">\n            <Router >\n                <Switch>\n                    <Route path=\"/anime/:id\" children={<AnimePage />} />\n                    <Route path=\"/recommend\" children={<RecPage />} />\n                    <Route path=\"/browse\" children={<BrowsePage />} />\n                    <Route path=\"/\" children={<HomePage />} />\n                </Switch>\n            </Router>\n        </div>\n    );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { StateProvider } from './store.js';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n  <StateProvider>\n    <App />\n  </StateProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}